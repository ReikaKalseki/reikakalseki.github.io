<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <link rel="shortcut icon" href="../../images/favicon.ico">
        <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
		<meta http-equiv="Cache-control" content="no-cache">
        <title>AutoTrainDepot</title>
		<link rel="stylesheet" type="text/css" href="../../global-style.css">
		<link rel="stylesheet" type="text/css" href="../../factorio/local-style.css">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
        
		<script src = "../../browser.js"></script>
		<script src = "../../library.js"></script>
		<!--<script src = "../../jquery.js"></script>-->
		<script id = "footer-space-script" src = "../../footer-spacing.js"></script>
		<script id = "background-script" src = "../../factorio/backgroundgen.js"></script>
    </head>
    <body >
        	<div id = "navbar" class="navbar">
	  <a class="navbar-button" href="../../index.html">Reika's Mods Home</a>
	  <a class="navbar-button" href="../../factorio/index.html">Factorio Home</a>
		  <div class="dropdown">
			<button class="dropbtn">Information <i class="fa fa-angle-down"></i></button>
			<div class="dropdown-content">
					<a href="../../factorio\pages\info\faq.html">FAQ</a>
					<a href="../../factorio\pages\info\contact.html">Contact</a>
					<a href="../../factorio\pages\info\history.html">History</a>
			</div>
		  </div>
		  <div class="dropdown">
			<button class="dropbtn">Permissions <i class="fa fa-angle-down"></i></button>
			<div class="dropdown-content">
					<a href="../../factorio\pages\perms\license.html">License</a>
			</div>
		  </div>
	  <div class="dropdown">
		<button class="dropbtn">Mods <i class="fa fa-angle-down"></i></button>
		<div class="dropdown-content">
				<a href="../../factorio\mods\dragonindustries.html">Dragon Industries</a>
				<a href="../../factorio\mods\autotraindepot.html">AutoTrainDepot</a>
				<a href="../../factorio\mods\bioluminescence.html">Bioluminescence</a>
				<a href="../../factorio\mods\biterbias.html">BiterBias</a>
				<a href="../../factorio\mods\chokepoint.html">ChokePoint</a>
				<a href="../../factorio\mods\dewpointaggregator.html">DewPointAggregator</a>
				<a href="../../factorio\mods\earlyextensions.html">EarlyExtensions</a>
				<a href="../../factorio\mods\easycreative.html">EasyCreative</a>
				<a href="../../factorio\mods\endgamecombat.html">EndgameCombat</a>
				<a href="../../factorio\mods\factorio.html">Factor-I/O</a>
				<a href="../../factorio\mods\fastfurnaces.html">FastFurnaces</a>
				<a href="../../factorio\mods\ftweaks.html">FTweaks</a>
				<a href="../../factorio\mods\geothermal.html">Geothermal</a>
				<a href="../../factorio\mods\infitech.html">InfiTech</a>
				<a href="../../factorio\mods\itemfinder.html">ItemFinder</a>
				<a href="../../factorio\mods\lossprevention.html">LossPrevention</a>
				<a href="../../factorio\mods\nauvisday.html">NauvisDay</a>
				<a href="../../factorio\mods\oldwormsound.html">OldWormSound</a>
				<a href="../../factorio\mods\oreverhaul.html">Oreverhaul</a>
				<a href="../../factorio\mods\pheromones.html">Pheromones</a>
				<a href="../../factorio\mods\radionetwork.html">RadioNetwork</a>
				<a href="../../factorio\mods\rubberbelts.html">RubberBelts</a>
				<a href="../../factorio\mods\treeplant.html">T-Re(e)plant</a>
				<a href="../../factorio\mods\turmoil.html">TurmOil</a>
		</div>
	  </div>
	  <div class="dropdown">
		<button class="dropbtn">Other Games <i class="fa fa-angle-down"></i></button>
		<div class="dropdown-content">
				<a href="../../minecraft/index.html">Minecraft</a>
				<a href="../../p2/index.html">Portal 2</a>
				<a href="../../stellaris/index.html">Stellaris</a>
				<a href="../../se/index.html">Space Engineers</a>
				<a href="../../fce/index.html">FortressCraft Evolved</a>
				<a href="../../starbound/index.html">Starbound</a>
		</div>
	  </div>
	  <div class="dropdown">
		<button class="dropbtn">Other Projects <i class="fa fa-angle-down"></i></button>
		<div class="dropdown-content">
				<a href="../../projects/calendar.html">Game Calendar</a>
				<a href="../../projects/eventbuilder.html">Stellaris Event Builder</a>
				<a href="../../projects/fcompile.html">FCompile</a>
		</div>
	  </div>
	</div>
		<noscript><div style = "text-align: center; width: 100%;"><div id = "nojs-header"><div><img class = "header-alert" src = "../../images/alert.png"></div><div>You have JavaScript disabled; it is recommended you enable it for this site.<br>While the site will (mostly) function with scripts disabled, some sections (eg changelog view, or sortable tables) require it to update the page contents based on your input.<br>Additionally, JS is used to generate page styling, meaning disabling scripts will leave pages ugly, boring, and in some cases poorly arranged in ways that might impede readability.<br>If you have no idea what this means, or have not in fact disabled scripts, try simply reloading the page, as it may not have loaded completely or correctly.</div></div></div></noscript>
		<div style = "text-align: center; width: 100%;"><div class = "header-alert-box" style = "border-color: red; background-color: #f008 !important; color: #fff; border-width: 4px; animation: blinker 3s linear infinite;">This site is still being built! Not all content is present, and there may be errors in text, function, optimization, or information, and anything is subject to change. <b>Please do not share the site at this time</b>.</div></div>
		<div id="toc_container">
<h3>Quick Nav</h3>
<hr>
<table class="toc_list">
	<tr style = "border-bottom: 3px solid black;"><td><a href="#top">Back To Top</a></td><td><button type="button" class = "tocbtn" onclick="location.href='#top'"><span><i class="fas fa-angle-double-up"></i></span></button></td></tr>
		<tr><td><a href="#text-block-overview">Overview</a></td><td><button type="button" class = "tocbtn" onclick="location.href='#text-block-overview'"><span><i class="fas fa-angle-down"></i></span></button></td></tr>
		<tr><td><a href="#text-block-depots">Depots</a></td><td><button type="button" class = "tocbtn" onclick="location.href='#text-block-depots'"><span><i class="fas fa-angle-down"></i></span></button></td></tr>
		<tr><td><a href="#text-block-automateddepots">Automated Depots</a></td><td><button type="button" class = "tocbtn" onclick="location.href='#text-block-automateddepots'"><span><i class="fas fa-angle-down"></i></span></button></td></tr>
		<tr><td><a href="#text-block-fluiddepots">Fluid Depots</a></td><td><button type="button" class = "tocbtn" onclick="location.href='#text-block-fluiddepots'"><span><i class="fas fa-angle-down"></i></span></button></td></tr>
		<tr><td><a href="#text-block-technologies">Technologies</a></td><td><button type="button" class = "tocbtn" onclick="location.href='#text-block-technologies'"><span><i class="fas fa-angle-down"></i></span></button></td></tr>
		<tr><td><a href="#text-block-rapidloadingandunloading">Rapid Loading and Unloading</a></td><td><button type="button" class = "tocbtn" onclick="location.href='#text-block-rapidloadingandunloading'"><span><i class="fas fa-angle-down"></i></span></button></td></tr>
		<tr><td><a href="#text-block-otherfeatures">Other Features</a></td><td><button type="button" class = "tocbtn" onclick="location.href='#text-block-otherfeatures'"><span><i class="fas fa-angle-down"></i></span></button></td></tr>
		<tr><td><a href="#text-block-sourcecode">Source Code</a></td><td><button type="button" class = "tocbtn" onclick="location.href='#text-block-sourcecode'"><span><i class="fas fa-angle-down"></i></span></button></td></tr>
		<tr><td><a href="#text-block-downloads">Downloads</a></td><td><button type="button" class = "tocbtn" onclick="location.href='#text-block-downloads'"><span><i class="fas fa-angle-down"></i></span></button></td></tr>
</table>
</div>
        <div class = "textarea">
			<!--<h2>AutoTrainDepot</h2>-->
						<section class = "textblock" id = "text-block-overview">
				<h3>Overview</h3>
					AutoTrainDepot (ATD) enables the use of generalized train depots without reliance on logistics bots just handling everything automatically, by adding mechanisms to prevent item deficits or surpluses from causing deadlocks, and allowing for intelligent train-specific loading. It also adds a handful of other features to make train-based logistics more flexible and powerful, without making it much more complex to use.
			</section><br>
			<section class = "textblock" id = "text-block-depots">
				<h3>Depots</h3>
					In a train-based factory (as opposed to, for example, one built around a "main bus"), there are one or more centralized item repositories that act as intermediate storage and/or switching points for various items. For example, one train might collect iron, copper, and steel, and return with various military products (gun turrets, red ammo, etc). Another might take iron and copper and produce green circuits, pipes, gear wheels, and red science. A third might take those pipes and circuits, plus more raw iron and steel, and make engines, green science, and mining drills.
					<br><br>
					In other words, a common storage buffer is used as both the source and the destination for various items, collected or deposited by individual trains, based on their route. There can be one master depot that stores the entire factory's buffer, or there can be local/specific depots, for example for ore, oil products, stone works, or more.
					<br><br>
					In vanilla Factorio, this is only really possible with the logistics network; because belts and inserters will generally blindly collect whatever they can from a train, and place it in the depot, it can and often will disproportionately fill with items that are produced in greater quantity, leaving no space for other items and causing a complete stoppage of production. Because the filters and conditions on the belts/inserters would need to change constantly, based on the contents of the current train and current depot state, this is not generally feasible with anything but a logistics network.
			</section><br>
			<section class = "textblock" id = "text-block-automateddepots">
				<h3>Automated Depots</h3>
					AutoTrainDepot's core feature is the addition of an intelligent depot control system to prevent that deadlocking, as well as simplify the use of these "one production loop" trains. A depot is constructed by building several storages - chests, warehouses, et cetera - between two rail stations made with special train stops, such that the same storages are the output of one station and the input for the other. Then, these storages are connected with circuit wire to the depot controller, as are each of the train stations (color of wire from the storages is not important, but the stations are: red for the "filling" station and green for the unloading one).<br>
					<div class = "block-image">
	<a href = "../../imagedownloads/i-imgur-com_2FUR5ws6k.jpg" target="_blank" rel="noopener noreferrer"><img class = "deembed-media" src = "../../imagedownloads/i-imgur-com_2FUR5ws6k.jpg" style="max-width:75%;" ></a>
</div><br>
					If set up correctly, the depot controller will then monitor both stations and all connected storages and will manipulate the I/O to and from those storages to do several things:<ul>
					<li>Ensure no item receives more than its share of the total storage (see below)</li>
					<li>Update filters on I/O to manage type-specific loading</li>
					<li>Keep the input/output lines clear to avoid blockage</li></ul>
					Depots have an input to select the number of item types the depot is expected to handle; the capacity for any item is thus the total available storage divided by this number (once accounting for stack size).
					<br><br>
					With an automated depot, you can dispatch any number of trains to and from it, attempting to deliver or collect any item, without any risk of an excess of, say, stone bricks preventing anything else from being delivered. This allows for massively complex train networks all sharing the same central storage, allowing you to focus on the various production outposts.
			</section><br>
			<section class = "textblock" id = "text-block-fluiddepots">
				<h3>Fluid Depots</h3>
					ATD also adds the ability to build fluid depots, which enable a centralized storage for up to six fluid types, and which can dynamically connect to the correct wagons for draining or filling on a train-specific basis. This allows you to have "freeform" trains; rather than needing to ensure that, for example, sulfuric acid pickup was always the third wagon in the train, so that it would be filled with the correct fluid, with a fluid depot you can bring in any train that fits in the station, and the depot controller will intelligently connect the pumps as needed, with no risk of mixing (provided you have built a proper depot with six independent pump/pipe/tank systems).
					<br><br>
					This is done by the use of a custom GUI that is opened alongside the vanilla train GUI, where you can set which of the six "fluid slots" (plus "none") each fluid wagon in that specific train is mapped to. For example, if you have train A with wagons of sulfuric acid, hydrazine, crude oil, and chlorine in that order, train B that wants to collect chlorine in its first fluid wagon, and train C that wants to deposit crude oil and collect sulfuric acid in cars one and four respectively, you would mark the four wagons of A with slots 1 through 4, then the first of B to slot 4, the first of C as slot 3, and the fourth of C as slot 1.<br>
					<div class = "video">
	<iframe class = "deembed-media" style = "max-width: 75%;" width="960" height="540" src="https://www.youtube.com/embed/tFCElfyCsN0" title="A demonstration of the fluid depot." frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
			</section><br>
			<section class = "textblock" id = "text-block-technologies">
				<h3>Technologies</h3>
					All of the depots' capabilities beyond simple limit management are unlocked with dedicated technologies; depots will be unable to perform the majority of their tasks without them. Completing a technology will make it available to all depots, even pre-existing ones. These capabilities are:<ul>
					<li>Locked slot (red "X" bar) control, to prevent output-type wagons from filling at the depot, or one train taking excessive quantities of an ingredient<li>
					<li>Cleaning inserters feeding trains so they can be used for the next train with a different item type, or for multiple item types for one wagon, without jamming</li>
					<li>Inventory balancing, to ensure all items are distributed and available to every storage and thus wagon in the pickup station, without manual "cycle feeding" infrastructure</li>
					<li>Changing input filters dynamically so that the depot automatically handles any item type on any input inserter or belt</li>
					<li>Setting train wagon filters dynamically on a per-station basis to allow wagons to carry both ingredients and products</li></ul>
					There are also technologies to increase the - initially small - max item/fluid type limit, max item count, and how many slots per storage and per wagon the depot can "see" and thus make use of.
			</section><br>
			<section class = "textblock" id = "text-block-rapidloadingandunloading">
				<h3>Rapid Loading and Unloading</h3>
					There are optional (as in can be disabled in mod settings) rapid loader and unloader devices, to improve throughput on late-game depots; these have very high throughput, but also high (multi MW) power draw. In the case of unloading, they also take far more space than inserters.<br>
					<div class = "block-image">
	<a href = "../../imagedownloads/i-imgur-com_2FsF9vAaE.jpg" target="_blank" rel="noopener noreferrer"><img class = "deembed-media" src = "../../imagedownloads/i-imgur-com_2FsF9vAaE.jpg" style="max-width:75%;" ></a>	<a href = "../../imagedownloads/i-imgur-com_2FJk1Lxuk.jpg" target="_blank" rel="noopener noreferrer"><img class = "deembed-media" src = "../../imagedownloads/i-imgur-com_2FJk1Lxuk.jpg" style="max-width:75%;" ></a>	<div class = "image-caption">Sample depots, with and without BobMods. Both are using the rapid loaders and unloaders instead of basic inserters.</div>
</div>
			</section><br>
			<section class = "textblock" id = "text-block-otherfeatures">
				<h3>Other Features</h3>
					ATD also adds a handful of other features to expand upon train logistics and prevent issues. These include the Station Bypass Beacon, which allows a train to skip a station in its route if it has no real need to go there (for example it is already mostly full of the item that stop would deliver, or that stop has nothing to supply), the smart train stop, which can intelligently handle "ingredient" vs "product" wagons, and direct trains based on whether it has product-type items available or space for ingredient-type ones (for example not allowing a train to leave a production station until "ingredients" wagons are empty), and a "deadlock detection" alert in case trains become properly stuck.
			</section>
<br>
			<section class = "textblock" id = "text-block-sourcecode">
			<div class = "modsource">
				<h3>Source Code</h3>				The source code for AutoTrainDepot can be found here:<button type="button" class = "srcbtn" onclick="location.href='https://github.com/ReikaKalseki/AutoTrainDepot'"><span>GitHub<div class = "spacer"></div><i class="fab fa-github"></i></span></button>
			</div>
			</section>
<br>
<section class = "textblock" id = "text-block-downloads">
	<h3>Downloads</h3>
<button type="button" class = "dlbtn" onclick="location.href='https://mods.factorio.com/mod/AutoTrainDepot'"><span>Factorio Mod Portal<div class = "spacer"></div><i class="fas fa-download"></i></span></button>
</section>
			<footer id = "footer-block">	<div id = "footer-content" class = "textblock-dynamic">
		<hr>
		<div id = "footer-spacing">
		
		</div>
		<hr>
		If you like any of my mods, maps, or other content, or want to help me develop them, feel free to use my Patreon or the buttons below. Every little bit helps me be able to keep working on them, and helps ensure both maintenance and expansion of them.<br>
		If you wish to give a one-time donation, I recommend you use the Paypal link on the right; Patreon, though it can be used for one-time donations, is designed for ongoing monthly 'subscriptions' (ie a set amount of money gifted each month for as long as you remain a 'patron'). Paypal can also register a donation with monthly recurrence, should that seem preferable to you.<br>
		For both systems, the amount you choose to donate is up to you, and for Patreon, can be changed at any time should you wish to decrease or increase the amount.<br>
		And thank you for your support. :D<br>
					<div class = "linkiconblock">
					<div class = "linktile">
						<div class = "linklabel">Patreon</div>
						<div><a href="http://www.patreon.com/reikasminecraft"><img src="../../images/patreon.png"  height="48" ></a></div>
					</div>
					<div class = "linktile">
						<div class = "linklabel">Paypal</div>
						<div><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5XRAM3SXBRJY4"><img src="https://www.paypal.com/en_US/i/btn/btn_donateCC_LG.gif"  height="48" ></a></div>
					</div>
			</div>
		<hr>
		To contact me (though some of these are only checked periodically, and many are for specific topics) or find additional information or content, visit any one of these platforms:<br>
					<div class = "linkiconblock">
					<div class = "linktile">
						<div class = "linklabel">Minecraft Forums</div>
						<div><a href="https://www.minecraftforum.net/forums/mapping-and-modding-java-edition/minecraft-mods/1291655"><img src="../../images/mcico.png"  width="36"  height="36" title="Minecraft Only"></a></div>
					</div>
					<div class = "linktile">
						<div class = "linklabel">Factorio Forums</div>
						<div><a href="https://forums.factorio.com/viewforum.php?f=216"><img src="../../images/factorio.png"  width="36"  height="36" title="Factorio Only"></a></div>
					</div>
					<div class = "linktile">
						<div class = "linklabel">GitHub</div>
						<div><a href="https://github.com/ReikaKalseki"><img src="../../images/gitico.png"  width="36"  height="36" ></a></div>
					</div>
					<div class = "linktile">
						<div class = "linklabel">Discord</div>
						<div><a href="https://discordapp.com/channels/@me/143569407665242112/"><img src="../../images/discico.png"  width="36"  height="36" title="Discord ID: Reika#3161"></a></div>
					</div>
					<div class = "linktile">
						<div class = "linklabel">Steam</div>
						<div><a href="https://steamcommunity.com/id/ReikaKalseki/myworkshopfiles/"><img src="../../images/steamico.png"  width="36"  height="36" title="Please no random friend requests"></a></div>
					</div>
					<div class = "linktile">
						<div class = "linklabel">YouTube</div>
						<div><a href="https://www.youtube.com/user/ReikasMinecraft/videos"><img src="../../images/ytico.png"  width="36"  height="36" ></a></div>
					</div>
					<div class = "linktile">
						<div class = "linklabel">SoundCloud</div>
						<div><a href="https://soundcloud.com/reikakalseki"><img src="../../images/soundico.png"  width="36"  height="36" title="Music Only"></a></div>
					</div>
					<div class = "linktile">
						<div class = "linklabel">Reddit</div>
						<div><a href="https://www.reddit.com/user/ReikaKalseki/"><img src="../../images/redditico.png"  width="36"  height="36" ></a></div>
					</div>
			</div>
		<hr>
		This site is proudly Canadian. <i class="fab fa-canadian-maple-leaf"></i><br>
		<hr>
		Site (including embedded JavaScript) and linked projects (mods, maps, etc) created by and &copy; ReikaKalseki, except for content within which is part of the base games, as noted below.<br>
		<hr>
			Minecraft and its content and assets are &copy; Mojang AB, with whom I am not affiliated<br>
			Factorio and its content and assets are &copy; Wube Software, with whom I am not affiliated<br>
			Portal 2 and its content and assets are &copy; Valve Corporation, with whom I am not affiliated<br>
			Stellaris and its content and assets are &copy; Paradox Interactive, with whom I am not affiliated<br>
			Space Engineers and its content and assets are &copy; Keen Software House, with whom I am not affiliated<br>
			FortressCraft Evolved and its content and assets are &copy; Projector Games, with whom I am not affiliated<br>
			Starbound and its content and assets are &copy; Chucklefish Limited, with whom I am not affiliated<br>
	</div></footer>
		</div>
    </body>
</html>