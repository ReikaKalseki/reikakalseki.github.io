(self.webpackChunksitecore=self.webpackChunksitecore||[]).push([[990],{990:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>y});var r=l(621),o=l(212);const a={red:(0,r.$W)("ff0000"),orange:(0,r.$W)("FF7F00"),yellow:(0,r.$W)("ffD800"),green:(0,r.$W)("00ff00"),cyan:(0,r.$W)("00ffff"),argon:(0,r.$W)("4CCCFF"),blue:(0,r.$W)("0045ff"),purple:(0,r.$W)("A426FF"),magenta:(0,r.$W)("FF00FF"),white:(0,r.$W)("ffffff")},i=["argon","argon","purple","red","yellow","yellow","orange","purple","green","magenta","blue"];function s(e,t,l,r){let o=document.createElement("div");return o.className="tile-factorio-"+t,"air"!=t&&null!=t||(o.style.width=l.toString()+"px",o.style.height=r.toString()+"px"),e.appendChild(o),o}function n(e,t,l,r,o,a,i=1){let n=s(e,t,l,r);return n.style.position="relative",n.style.left=o.toString()+"px",n.style.top=a.toString()+"px",null!=t&&void 0!==t&&t.startsWith("oil")&&(i*=1.5),n.style.transformOrigin="top left",n.style.transform="scale("+i+")","spawner"==t&&(n.style.transform=n.style.transform+" translate(-16px)"),n}function h(e,t,l,o,a){for(var i=32*a,n=32*a,h=0;h<t;h++){let t=document.createElement("div");for(var f=0;f<l;f++){let e=(0,r.Yy)(l,f,h),a=o[e];a=c(o,0,l,f,h,0,a),s(t,a,i,n)}e.appendChild(t)}(0,r.xE)(e,1)}function c(e,t,l,o,a,i,s){if(null!=s&&void 0!==s&&s.startsWith("belt")&&7==s.length)s=function(e,t,l,o,a,i,s){var n=(0,r.Yy)(l,o-1,a),h=(0,r.Yy)(l,o+1,a),c=(0,r.Yy)(l,o,a-1),f=(0,r.Yy)(l,o,a+1);return e[n]!=e[h]||"belt-left"!=e[n]&&"belt-right"!=e[n]?"belt-dr"!=e[n]&&"belt-ur"!=e[n]||"belt-right"!=e[h]?"belt-dl"!=e[h]&&"belt-ul"!=e[h]||"belt-left"!=e[n]?"belt-dr"!=e[n]&&"belt-ur"!=e[n]&&"belt-right"!=e[n]||"belt-left"!=e[h]&&"belt-dl"!=e[h]&&"belt-ul"!=e[h]?e[c]!=e[f]||"belt-up"!=e[f]&&"belt-down"!=e[f]?"belt-lu"!=e[f]&&"belt-ru"!=e[f]||"belt-up"!=e[c]?"belt-ld"!=e[c]&&"belt-rd"!=e[c]||"belt-down"!=e[f]?"belt-down"!=e[c]&&"belt-rd"!=e[c]&&"belt-ld"!=e[c]||"belt-up"!=e[f]&&"belt-ru"!=e[f]&&"belt-lu"!=e[f]?s:"belt-right"==s||"belt-dr"==s||"belt-ur"==s?"belt-right":"belt-left":"belt-down":"belt-up":e[f]:"belt-down"==s||"belt-ld"==s||"belt-rd"==s?"belt-down":"belt-up":"belt-left":"belt-right":e[n]}(e,0,l,o,a,0,s);else if("blocker"==s)return"air";return s}function f(e,t,l){var o=0,a=0,i=0,s=0,n="";switch((0,r.sc)(0,3)){case 0:o=(0,r.sc)(0,t-1),a=e-1,s=-1,n="up";break;case 1:o=0,a=(0,r.sc)(0,e-1),i=1,n="right";break;case 2:o=(0,r.sc)(0,t-1),a=0,s=1,n="down";break;case 3:o=t-1,a=(0,r.sc)(0,e-1),i=-1,n="left"}for(var h=!0,c=o,f=a,u=0;h;){var y=n,p=n,m=(0,r.Yy)(t,c,f);if("air"!=l[m])break;var g=Math.random(),b=Math.min(.35,.066*u),M=!d(l,t,e,c,f,i,s);if(g<b||M){u=0;var x=-1!=s&&d(l,t,e,c,f,0,1),v=1!=s&&d(l,t,e,c,f,0,-1),w=1!=i&&d(l,t,e,c,f,-1,0),Y=-1!=i&&d(l,t,e,c,f,1,0),k=[];if(x&&k.push("down"),v&&k.push("up"),w&&k.push("left"),Y&&k.push("right"),k.length>1&&(k=k.filter((e=>e!=y))),k.length>0)switch(k[Math.floor(Math.random()*k.length)]){case"left":i=-1,n="left",p=1==s?"dl":"ul",s=0;break;case"right":i=1,n="right",p=1==s?"dr":"ur",s=0;break;case"up":s=-1,n="up",p=1==i?"ru":"lu",i=0;break;case"down":s=1,n="down",p=1==i?"rd":"ld",i=0}else i=0,s=0}else u++;var S=0==i&&0==s;l[m]="belt-"+p,f+=s,h=(c+=i)>=0&&c<t&&f>=0&&f<e&&!S}}function d(e,t,l,o,a,i,s){var n=o+i,h=a+s,c=(0,r.Yy)(t,n,h);return n<0||n>=t||h<0||h>=l||"air"==e[c]||e[c].startsWith("belt")&&Math.random()<.5}function u(e,t,l){for(var o=(0,r.sc)(4,t-4),a=(0,r.sc)(4,e-4),i=[2,5],s=(0,r.sT)(i[0],i[1]),n=(0,r.sT)(i[0],i[1]),h=Math.max(0,Math.floor(o-s)),c=Math.max(0,Math.floor(a-n)),f=Math.min(t-1,Math.floor(o+s)),d=Math.min(e-1,Math.floor(a+n)),u=.75,y=(0,r.sT)(-u,u),p=(0,r.sT)(-u,u),m=h;m<=f;m++)for(var g=c;g<=d;g++){var b=m-o,M=g-a;if(b*b+M*M<=s*n+.5){var x=m+Math.floor(y*M),v=g+Math.floor(p*b);l[(0,r.Yy)(t,x,v)]=r.hm?"ice"+(0,r.sc)(0,15):"dirt"+(0,r.sc)(0,20)}}}function y(){if(o.M)return;let e=document.body;document.documentElement;var t=e.scrollHeight,l=Math.max(window.innerWidth,e.scrollWidth);let s=Math.ceil(t/32),d=Math.ceil(l/32),y=32*d,p=32*s;console.log("Generating Factorio tileset with "+d+" columns and "+s+" rows");for(var m=new Array(Math.ceil(d*s/4)),g=new Array(d*s),b=new Array(d*s),M=0;M<d;M++)for(var x=0;x<s;x++){let e=(0,r.Yy)(d,M,x),t="air";if(b[e]=t,g[e]=t,M<Math.ceil(d/2)&&x<Math.ceil(s/2)){let e=r.hm||Math.random()<.125?15:3;m[(0,r.Yy)(Math.ceil(d/2),M,x)]=(r.hm?"snow":"grass")+(0,r.sc)(0,e)}}for(M=0;M<Math.floor(s/6);M++)u(s/2,d/2,m);var v=function(e,t,l){for(var o=[],a=0;a<e*t/200;a++){var i=(0,r.sc)(2,9),s=(0,r.sc)(i+2,t-i-2),n=(0,r.sc)(i+2,e-i-2),h=Math.max(0,Math.floor(s-i)),c=Math.max(0,Math.floor(n-i)),f=Math.min(t-1,Math.floor(s+i)),d=Math.min(e-1,Math.floor(n+i)),u=7,y=Math.random(),p="coal";if(y<.1?p="oil":y<.4?p="copper":y<.7&&(p="iron"),Math.random()<.2&&(p="geothermal_"),"oil"==p||"geothermal_"==p){u="oil"==p?3:5;for(var m=0;m<2*i;m++){var g=(0,r.sc)(h,f),b=(0,r.sc)(c,d);"air"==l[v=(0,r.Yy)(t,g,b)]&&(l[v]=p+(0,r.sc)(0,u),"geothermal_"==p&&(o.push({x:g,y:b}),g>0&&(l[(0,r.Yy)(t,g-1,b)]="blocker"),g<t&&(l[(0,r.Yy)(t,g+1,b)]="blocker"),b>0&&(l[(0,r.Yy)(t,g,b-1)]="blocker"),b<e&&(l[(0,r.Yy)(t,g,b+1)]="blocker")))}}else for(var M=h;M<=f;M++)for(var x=c;x<=d;x++){var v,w=M-s,Y=x-n;w*w+Y*Y<=i*i+.5&&"air"==l[v=(0,r.Yy)(t,M,x)]&&(l[v]=p+(0,r.sc)(0,u))}}return o}(s,d,g);let w=function(e,t,l,o,a,i,s,n){for(var h=[],c=0;c<Math.floor(e/4);c++){for(var f="rock"+(0,r.sc)(1,4),d="rock1"==f?128:64,u=(0,r.sc)(d/2,a-d/2),y=(0,r.sc)(d/2,i-d/2),p=Math.floor(u/s),m=Math.floor(y/n),g=Math.ceil((u+d/2)/s),b=Math.ceil((y+d/2)/n),M=!0,x=p;x<=g&&M;x++)for(var v=m;v<=b&&M;v++)"air"!=o[(0,r.Yy)(t,x,v)]&&(M=!1);if(M){for(x=p;x<=g;x++)for(v=m;v<=b;v++)o[(0,r.Yy)(t,x,v)]="blocker";var w={image:f,x:u,y,size:d,scale:.5};h.push(w)}}for(c=0;c<Math.max(5,Math.floor(e/15));c++)for(var Y=(0,r.sc)(256,a-256),k=(0,r.sc)(256,i-256),S=0;S<3;S++){var C="dome";for(d=128,u=(0,r.sc)(Y-d,Y+d),y=(0,r.sc)(k-d,k+d),p=Math.floor(u/s),m=Math.floor(y/n),g=Math.ceil((u+d/2)/s),b=Math.ceil((y+d/2)/n),M=!0,x=p;x<=g&&M;x++)for(v=m;v<=b&&M;v++)"air"!=o[(0,r.Yy)(t,x,v)]&&(M=!1);if(M){for(x=p;x<=g;x++)for(v=m;v<=b;v++)o[(0,r.Yy)(t,x,v)]="blocker";w={image:C,x:u,y,size:d,scale:.5},h.push(w)}}for(c=0;c<Math.floor(e/16);c++){for(d=192,u=(0,r.sc)(d/2,a-d/2),y=(0,r.sc)(d/2,i-d/2),p=Math.floor(u/s),m=Math.floor(y/n),g=Math.ceil((u+d/2)/s),b=Math.ceil((y+d/2)/n),M=!0,x=p;x<=g&&M;x++)for(v=m;v<=b&&M;v++)"air"!=o[(0,r.Yy)(t,x,v)]&&(M=!1);if(M){for(x=p;x<=g;x++)for(v=m;v<=b;v++)o[(0,r.Yy)(t,x,v)]="blocker";for(w={image:"spawner",x:u,y,size:d,scale:.75},h.push(w),S=0;S<3;S++){var W=(0,r.sc)(0,360)*Math.PI/180,z=(0,r.sT)(d/3,d);for(u=w.x+d/2+Math.cos(W)*z,y=w.y+d/2+Math.sin(W)*z,p=Math.floor(u/s),m=Math.floor(y/n),g=Math.ceil((u+d/2)/s),b=Math.ceil((y+d/2)/n),M=!0,x=p;x<=g&&M;x++)for(v=m;v<=b&&M;v++)"air"!=o[(0,r.Yy)(t,x,v)]&&(M=!1);if(M){for(x=p;x<=g;x++)for(v=m;v<=b;v++)o[(0,r.Yy)(t,x,v)]="blocker";h.push({image:"worm",x:u,y,size:96,scale:.75})}}for(S=0;S<9;S++){W=(0,r.sc)(0,360)*Math.PI/180,z=(0,r.sT)(d/3,d),u=w.x+d/2+Math.cos(W)*z,y=w.y+d/2+Math.sin(W)*z;var E="biter"+(0,r.sc)(1,4);Math.random()<.1&&(E="fly"),h.push({image:E,x:u,y,size:64,scale:1})}}}for(c=0;c<Math.floor(e*t/12);c++){d=128,u=(0,r.sc)(d/2,a-d/2),y=(0,r.sc)(d/2,i-d/2);var F=Math.floor((u+d/2)/s),$=Math.floor((y+d/2)/n);if(M="air"==o[(0,r.Yy)(t,F,$)]){var R=(0,r.Yy)(Math.floor(t/2),Math.floor(F/2),Math.floor($/2)),T=l[R].startsWith("dirt")||l[R].startsWith("ice");if(T&&r.hm)continue;w={image:"tree"+(0,r.sc)(T?1:3,T?2:5),x:u,y,size:d,scale:1},r.hm&&(w.image="snowtree"+(0,r.sc)(1,3),w.scale*=1.5),h.push(w)}}return h}(s,d,m,b,y,p,32,32);for(M=0;M<Math.floor(s/1.5);M++)f(s,d,b);let Y="background-content",k=document.getElementById(Y);for(null==k&&(k=document.createElement("div"),k.id=Y,console.log("Injecting background element."),document.body.prepend(k));k.firstChild;)k.removeChild(k.firstChild);let S=document.createElement("div"),C=document.createElement("div"),W=document.createElement("div"),z=document.createElement("div"),E=document.createElement("div"),F=document.createElement("div");k.appendChild(S),k.appendChild(C),k.appendChild(W),k.appendChild(z),(0,r.w7)()&&k.appendChild(F),k.appendChild(E),S.style.width=l.toString()+"px",S.style.height=t.toString()+"px",S.style.position="relative",S.style.left="0px",S.style.top="0px",C.style.width=l.toString()+"px",C.style.height=t.toString()+"px",C.style.position="relative",C.style.left="0px",C.style.top="0px",W.style.width=l.toString()+"px",W.style.height=t.toString()+"px",z.style.width=l.toString()+"px",z.style.height=t.toString()+"px",z.style.position="relative",z.style.left="0px",z.style.top="0px",E.style.width=l.toString()+"px",E.style.height=t.toString()+"px",E.style.position="relative",E.style.left="0px",E.style.top="0px",E.style.setProperty("mix-blend-mode","screen"),S.className="tile-layer",h(S,Math.ceil(s/2),Math.ceil(d/2),m,2),function(e,t,l,o,a,i=1,s=0,h=0){for(var f=0,d=0,u=0;u<t;u++){f=0;for(var y=0;y<l;y++){let t=o[(0,r.Yy)(l,y,u)];if(t=c(o,0,l,y,u,0,t),"air"!=t){let l=f;s>0&&(l+=(Math.random()-.5)*s*2);let r=d;h>0&&(r+=(Math.random()-.5)*h*2),n(e,t,a,a,l,r,i)}f+=a}d+=a}(0,r.xE)(e,1)}(C,s,d,g,32,.75,4,4),h(W,s,d,b,1);try{for(let[e,t]of Object.entries(a)){let l=".tile-factorio-glowcolor_"+e+"::after",r=512,o=0;document.styleSheets[0].addRule(l,"width: "+r+"px;"),document.styleSheets[0].addRule(l,"height: "+r+"px;"),document.styleSheets[0].addRule(l,"top: "+o+"px;"),document.styleSheets[0].addRule(l,"left: "+o+"px;"),document.styleSheets[0].addRule(l,"background: radial-gradient(rgba("+t.r+","+t.g+","+t.b+",255) 0%, rgba("+t.r+","+t.g+","+t.b+",0) 70%);"),document.styleSheets[0].addRule(l,"mix-blend-mode: screen;")}}catch(e){console.log("Could not access ruleset: "+e)}let $=[],R=[];for(M=0;M<w.length;M++){var T=w[M].x-16,_=w[M].y-16,A=1*w[M].size;"dome"==w[M].image?($.push({image:"domeglow",x:T-192,y:_-160,size:4*A}),w[M].scale=1):("fly"==w[M].image||w[M].image.startsWith("biter"))&&R.push({x:w[M].x-w[M].size/2,y:w[M].y-w[M].size/2,size:w[M].size}),n(z,w[M].image,A,A,T,_,w[M].scale)}for(M=0;M<$.length;M++)n(E,$[M].image,$[M].size,$[M].size,$[M].x,$[M].y);let I=[];for(var P=0;P<Math.floor(s/2);P++){let e=(0,r.sc)(0,10),o=i[e];n(z,"biolumbush"+e,64,64,T=(0,r.sc)(64,l-64),_=(0,r.sc)(64,t-64),.75),I.push({color:o,x:T,y:_})}if((0,r.w7)()){for(F.style.width=l.toString()+"px",F.style.height=t.toString()+"px",F.style.backgroundColor="#395060",F.style.setProperty("mix-blend-mode","multiply"),M=0;M<v.length;M++)n(F,"light",256,256,32*v[M].x-48,32*v[M].y-45,.33);for(M=0;M<R.length;M++)n(F,"light",256,256,R[M].x-16,R[M].y-16,.25);for(console.log(I),P=0;P<I.length;P++){let e=I[P];for(M=0;M<2;M++){let t=n(F,"glowcolor_"+e.color,512,512,e.x-22,e.y-22,.175);t.style.width="512px",t.style.height="512px"}}for(P=0;P<Math.floor(s/3);P++){var j="biolumtree"+(0,r.sc)(0,1);let e=(0,r.v4)(a);for(n(z,j,64,64,T=(0,r.sc)(64,l-64),_=(0,r.sc)(64,t-64),1),x=-1;x<=1;x++)for(M=0;M<2;M++){let t=n(F,"glowcolor_"+e,512,512,T+2,_+32*x,.25);t.style.width="512px",t.style.height="512px"}}}(0,r.xE)(z,1)}}}]);
//# sourceMappingURL=990.bundle.js.map