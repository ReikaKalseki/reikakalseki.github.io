{"version":3,"sources":["webpack://sitecore/./changeloader_rawscript.ts"],"names":["setSelectedGameVersion","btn","ver","dataset","value","div","document","getElementById","innerHTML","box","scrollTop","children","i","length","entry","name","button","createElement","type","className","id","date","modset","addEventListener","setSelectedModVersion","appendChild","list","getElementsByClassName","classList","remove","add","updateChangeData","toggleAllModChecks","btns","ref","checked","text","gv","mv","gameVer","modVer","showMods","mods","obj","mod","push","key","split","filter","includes","init"],"mappings":"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","file":"763.bundle.js","sourcesContent":["function selectNewestVersions(btn) {\r\n    setSelectedGameVersion(document.getElementById(\"newestgamever\"));\r\n    setSelectedModVersion(document.getElementById(\"newestmodver\"));\r\n}\r\nfunction setSelectedGameVersion(btn) {\r\n    let ver = btn.dataset.value;\r\n    let div = document.getElementById(\"game-version-cache\");\r\n    div.innerHTML = ver;\r\n    div = document.getElementById(\"mod-version-list-\" + ver);\r\n    let box = document.getElementById(\"modver-box\");\r\n    box.innerHTML = \"\";\r\n    div.scrollTop = 0;\r\n    var children = div.children;\r\n    for (var i = 0; i < children.length; i++) {\r\n        let entry = children[i]; //mod-version-list-entry\r\n        let name = entry.innerHTML;\r\n        let button = document.createElement(\"button\");\r\n        button.type = \"button\";\r\n        button.className = \"verbtn-mod\";\r\n        if (i == 0)\r\n            button.id = \"newestmodver\";\r\n        button.dataset.value = name;\r\n        button.dataset.date = entry.dataset.date;\r\n        button.dataset.modset = entry.dataset.modset;\r\n        button.innerHTML = '<span><div class = \"modver-width\">' + name + '</div><i class=\"fas fa-angle-right\"></i></span>';\r\n        button.addEventListener(\"click\", function () { setSelectedModVersion(button); });\r\n        box.appendChild(button);\r\n        //box.innerHTML += '<button type=\"button\" class = \"verbtn-mod\" data-value = \"' + name + '\" data-date = \"' + entry.dataset.date + '\" onclick = \"setSelectedModVersion(this)\"><span><div class = \"modver-width\">' + name + '</div><i class=\"fas fa-angle-right\"></i></span></button><br>'\r\n    }\r\n    var list = document.getElementsByClassName(\"selver-game\");\r\n    for (var i = 0; i < list.length; i++) {\r\n        list[i].classList.remove(\"selver-game\");\r\n    }\r\n    btn.classList.add(\"selver-game\");\r\n    let data = document.getElementById(\"changedata\");\r\n    data.innerHTML = document.getElementById(\"changedata-empty-cache\").innerHTML;\r\n    document.getElementById(\"changedata-header\").innerHTML = \"Changes\";\r\n    updateChangeData();\r\n}\r\nfunction setSelectedModVersion(btn) {\r\n    //if (btn == null)\r\n    //\treturn;\r\n    let ver = btn.dataset.value;\r\n    let div = document.getElementById(\"mod-version-cache\");\r\n    div.innerHTML = ver;\r\n    div.dataset.date = btn.dataset.date;\r\n    div.dataset.modset = btn.dataset.modset;\r\n    if (div.dataset.date != \"\")\r\n        div.dataset.date = \" (\" + div.dataset.date + \")\";\r\n    //console.log(ver+\" on \"+div.dataset.date);\r\n    var list = document.getElementsByClassName(\"selver-mod\");\r\n    for (var i = 0; i < list.length; i++) {\r\n        list[i].classList.remove(\"selver-mod\");\r\n    }\r\n    btn.classList.add(\"selver-mod\");\r\n    updateChangeData();\r\n}\r\nfunction toggleAllModChecks() {\r\n    var btns = document.getElementsByClassName(\"modchangecheck\");\r\n    let ref = document.getElementById(\"allmodcheck\");\r\n    for (var i = 0; i < btns.length; i++) {\r\n        let btn = btns[i];\r\n        if (btn == ref)\r\n            continue;\r\n        btn.checked = ref.checked;\r\n    }\r\n    updateChangeData();\r\n}\r\nfunction updateChangeData() {\r\n    let text = document.getElementById(\"changedata\");\r\n    let gv = document.getElementById(\"game-version-cache\");\r\n    let mv = document.getElementById(\"mod-version-cache\");\r\n    let gameVer = gv.innerHTML;\r\n    let modVer = mv.innerHTML;\r\n    let showMods = true;\r\n    if (modVer == null || modVer == \"\" || typeof (modVer) == \"undefined\")\r\n        showMods = false;\r\n    // text.innerHTML = \"<h2 class = \\\"changelog-version-title\\\">\"+modVer+\" [\"+gameVer+\"]\"+mv.dataset.date+\"</h2>\";\r\n    if (showMods) {\r\n        text.innerHTML = \"\";\r\n        let header = document.getElementById(\"changedata-header\");\r\n        header.innerHTML = \"Changes in \" + modVer + \" [\" + gameVer + \"]\" + mv.dataset.date + \":\";\r\n    }\r\n    let mods = [];\r\n    var list = document.getElementsByClassName(\"modchangecheck\");\r\n    for (var i = 0; i < list.length; i++) {\r\n        let obj = list[i];\r\n        let mod = obj.dataset.value; //keyname\r\n        if (mod == \"all\")\r\n            continue;\r\n        if (obj.checked == true) {\r\n            mods.push(mod);\r\n            if (showMods) {\r\n                var key = gameVer + \"|\" + modVer + \"|\" + mod;\r\n                var div = document.getElementById(key);\r\n                //console.log(\"'\"+key+\"' > \"+div);\r\n                if (div != null) {\r\n                    text.innerHTML += \"<h3>\" + obj.dataset.mod + \"</h3>\" + div.innerHTML + \"<br>\";\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (showMods && text.innerHTML == \"\") {\r\n        text.innerHTML = \"There are no changes in this version for the mods you have selected.\";\r\n    }\r\n    let btns = document.getElementsByClassName(\"verbtn-mod\");\r\n    for (var i = 0; i < btns.length; i++) {\r\n        let btn = btns[i];\r\n        let btnmods = btn.dataset.modset.split(\"|\");\r\n        let shared = btnmods.filter(value => mods.includes(value));\r\n        if (shared.length > 0)\r\n            btn.classList.remove(\"empty-mod\");\r\n        else\r\n            btn.classList.add(\"empty-mod\");\r\n        //console.log(\"Modver button \"+btn.dataset.value+\" (\"+btnmods+\") intersection with active (\"+mods+\"): \"+shared);\r\n    }\r\n}\r\nexport default function init() {\r\n    var btns = document.getElementsByClassName(\"modchangecheck\");\r\n    for (var i = 0; i < btns.length; i++) {\r\n        let btn = btns[i];\r\n        if (btn.dataset.value == \"all\") {\r\n            btn.addEventListener(\"click\", toggleAllModChecks);\r\n            btn.id = \"allmodcheck\";\r\n        }\r\n        else {\r\n            btn.addEventListener(\"click\", updateChangeData);\r\n        }\r\n    }\r\n    btns = document.getElementsByClassName(\"verbtn-game\");\r\n    for (var i = 0; i < btns.length; i++) {\r\n        let btn = btns[i];\r\n        btn.addEventListener(\"click\", function () { setSelectedGameVersion(btn); });\r\n    }\r\n    let newest = document.getElementById(\"newverbtn\");\r\n    newest.addEventListener(\"click\", function () { selectNewestVersions(newest); });\r\n    //setSelectedModVersion(null);\r\n}\r\n"],"sourceRoot":""}