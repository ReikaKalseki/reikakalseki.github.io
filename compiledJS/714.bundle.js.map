{"version":3,"sources":["webpack://sitecore/./404_rawscript.ts","webpack://sitecore/./browser.ts"],"names":["images","minecraft","stellaris","fce","factorio","p2","se","starbound","applyBackground","url","window","location","href","idx","indexOf","substring","game","console","log","img","document","body","style","backgroundImage","backgroundRepeat","backgroundSize","area","getElementsByClassName","i","length","className","list","elem","replace","isPhone","addEventListener","imgs","par","parentNode","tagName","put","createElement","innerHTML","src","replaceChild","text","width","header","navbar","getElementById","insertBefore","nextSibling","toc","removeChild","collapseOnPhone"],"mappings":"6IACA,MAAMA,EAAS,CAAEC,UAAW,0BAA2BC,UAAW,4BAA6BC,IAAK,4BAA6BC,SAAU,4BAA6BC,GAAI,4BAA6BC,GAAI,4BAA6BC,UAAW,6BACtO,SAASC,IACpB,GAAI,IACA,OACJ,IAAIC,EAAMC,OAAOC,SAASC,KACtBC,EAAMJ,EAAIK,QAAQ,QACtBL,EAAMA,EAAIM,UAAUF,EAAM,GAC1BA,EAAMJ,EAAIK,QAAQ,KAClB,IAAIE,EAAO,OACPH,GAAO,IACPJ,EAAMA,EAAIM,UAAU,EAAGF,GACvBG,EAAOP,GAEXQ,QAAQC,IAAI,4BAA8BF,EAAO,KACjD,IAAIG,EAAMnB,EAAOgB,GACjB,GAAW,MAAPG,GAAsB,IAAPV,QAA6B,IAAT,EACnCW,SAASC,KAAKC,MAAMC,gBAAkB,wBAA0BJ,EAAM,KACtEC,SAASC,KAAKC,MAAME,iBAAmB,YACvCJ,SAASC,KAAKC,MAAMG,eAAiB,QACrCR,QAAQC,IAAI,yBAA2BC,OAEtC,CACDC,SAASC,KAAKC,MAAMC,gBAAkB,8BACtCH,SAASC,KAAKC,MAAME,iBAAmB,SACvCJ,SAASC,KAAKC,MAAMG,eAAiB,OAErC,IADA,IAAIC,EAAON,SAASO,uBAAuB,YAClCC,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC7BF,EAAKE,GAAGE,UAAY,gBAG5B,IAAIC,EAAOX,SAASO,uBAAuB,+BAC3C,IAASC,EAAI,EAAGA,EAAIG,EAAKF,OAAQD,IAAK,CAClC,IAAII,EAAOD,EAAKH,GAChBI,EAAKpB,KAAOoB,EAAKpB,KAAKqB,QAAQ,aAAcjB,M,4CClC7C,MAAMkB,GAEF,EA2CXd,SAASe,iBAAiB,oBAJ1B,WACIlB,QAAQC,IAAI,2BAA6BgB,GAtC7C,WACI,GAAIA,EAAS,CAET,IADA,IAAIE,EAAOhB,SAASO,uBAAuB,iBACpCS,EAAKP,OAAS,GAAG,CACpB,IAAIV,EAAMiB,EAAK,GACXC,EAAMlB,EAAImB,WAEd,GAAmB,SAAfD,EAAIE,QAAoB,CACxB,IAAIC,EAAMpB,SAASqB,cAAc,OACjCD,EAAIE,UAAY,cAAgBvB,EAAIwB,IAAM,KAAOxB,EAAIwB,IAAM,OAC3DN,EAAIC,WAAWM,aAAaJ,EAAKH,QAIjC,GAAqB,SAAjBA,EAAIP,UAAsB,CAC1B,IAAIrB,EAAMU,EAAIwB,IAAIV,QAAQ,SAAU,YACpCI,EAAIK,UAAY,cAAgBjC,EAAM,KAAOA,EAAM,WAE7B,gBAAjB4B,EAAIP,UACTO,EAAIK,UAAYvB,EAAIwB,IAAM,OAE1BN,EAAIK,UAAY,GAExBzB,QAAQC,IAAI,iBAAmBC,EAAIwB,IAAM,KAG7C,IADA,IAAIE,EAAOzB,SAASO,uBAAuB,YAClCC,EAAI,EAAGA,EAAIiB,EAAKhB,OAAQD,IAC7BiB,EAAKjB,GAAGN,MAAMwB,MAAQ,MAE1B,IAAIC,EAAS3B,SAASqB,cAAc,OACpCM,EAAOL,UAAY,iYACnB,IAAIM,EAAS5B,SAAS6B,eAAe,UACrCD,EAAOV,WAAWY,aAAaH,EAAQC,EAAOG,aAC9C,IAAIC,EAAMhC,SAAS6B,eAAe,iBAClCG,EAAId,WAAWe,YAAYD,IAK/BE","file":"714.bundle.js","sourcesContent":["import { isPhone } from './browser';\r\nconst images = { minecraft: \"i-imgur-com_8RWgxVJ.png\", stellaris: \"i-imgur-com_2F21dYgUx.jpg\", fce: \"i-imgur-com_2FgNtglD6.jpg\", factorio: \"i-imgur-com_2F9slqiIR.jpg\", p2: \"i-imgur-com_2FYCaKfCN.png\", se: \"i-imgur-com_2F49lF5zd.jpg\", starbound: \"i-imgur-com_2FR7PKAx0.png\" };\r\nexport default function applyBackground() {\r\n    if (isPhone)\r\n        return;\r\n    let url = window.location.href;\r\n    let idx = url.indexOf(\".io/\");\r\n    url = url.substring(idx + 4);\r\n    idx = url.indexOf(\"/\");\r\n    let game = \"null\";\r\n    if (idx >= 0) {\r\n        url = url.substring(0, idx);\r\n        game = url;\r\n    }\r\n    console.log(\"Current site section is '\" + game + \"'\");\r\n    let img = images[game];\r\n    if (img != null && url != \"\" && typeof (img) != \"undefined\") {\r\n        document.body.style.backgroundImage = \"url('/imagedownloads/\" + img + \"')\";\r\n        document.body.style.backgroundRepeat = \"no-repeat\";\r\n        document.body.style.backgroundSize = \"cover\";\r\n        console.log(\"Setting background to \" + img);\r\n    }\r\n    else {\r\n        document.body.style.backgroundImage = \"url('/images/text-bcg.png')\";\r\n        document.body.style.backgroundRepeat = \"repeat\";\r\n        document.body.style.backgroundSize = \"auto\";\r\n        var area = document.getElementsByClassName(\"textarea\");\r\n        for (var i = 0; i < area.length; i++) {\r\n            area[i].className = \"textarea-core\";\r\n        }\r\n    }\r\n    var list = document.getElementsByClassName(\"dynamic-core-game-reference\");\r\n    for (var i = 0; i < list.length; i++) {\r\n        let elem = list[i];\r\n        elem.href = elem.href.replace(\"[GAMENAME]\", game);\r\n        //console.log(list[i].href);\r\n    }\r\n}\r\n//document.addEventListener(\"DOMContentLoaded\", applyBackground);\r\n","export const isPhone = checkMobile();\r\nfunction checkMobile() {\r\n    return false;\r\n}\r\nfunction collapseOnPhone() {\r\n    if (isPhone) {\r\n        var imgs = document.getElementsByClassName(\"deembed-media\");\r\n        while (imgs.length > 0) {\r\n            let img = imgs[0];\r\n            let par = img.parentNode;\r\n            //console.log(img.src+\" @ \"+par.tagName);\r\n            if (par.tagName == \"VIDEO\") {\r\n                let put = document.createElement(\"div\");\r\n                put.innerHTML = '<a href = \"' + img.src + '\">' + img.src + \"</a>\";\r\n                par.parentNode.replaceChild(put, par);\r\n            }\r\n            else {\r\n                //par.replaceChild(put, img);\r\n                if (par.className == \"video\") {\r\n                    var url = img.src.replace(\"embed/\", \"watch?v=\");\r\n                    par.innerHTML = '<a href = \"' + url + '\">' + url + \"</a>\";\r\n                }\r\n                else if (par.className != \"header-image\")\r\n                    par.innerHTML = img.src + \"<br>\";\r\n                else\r\n                    par.innerHTML = \"\";\r\n            }\r\n            console.log(\"Hiding media '\" + img.src + \"'\");\r\n        }\r\n        var text = document.getElementsByClassName(\"textarea\");\r\n        for (var i = 0; i < text.length; i++) {\r\n            text[i].style.width = \"33%\";\r\n        }\r\n        let header = document.createElement(\"div\");\r\n        header.innerHTML = \"<div style = 'text-align: center; width: 33%; margin: auto; border: 3px solid red;'><h2 style = 'color: red; margin: 12px;'>This site is not designed for use on phones and other handheld devices, nor is any of its content relevant on such platforms. You may continue to browse it this way if you wish, but it is recommended that you visit the site with a proper computer.</h2></div>\";\r\n        let navbar = document.getElementById(\"navbar\");\r\n        navbar.parentNode.insertBefore(header, navbar.nextSibling);\r\n        let toc = document.getElementById(\"toc_container\");\r\n        toc.parentNode.removeChild(toc);\r\n    }\r\n}\r\nfunction interceptDOM() {\r\n    console.log(\"Detected phone browser: \" + isPhone);\r\n    collapseOnPhone();\r\n}\r\ndocument.addEventListener(\"DOMContentLoaded\", interceptDOM);\r\n"],"sourceRoot":""}