{"version":3,"sources":["webpack://sitecore/./navbar-scroll-indicator_rawscript.ts"],"names":["applyHooks","menus","document","getElementsByClassName","k","length","root","dataset","processedNavHints","entries","first","entries2","createNavScroller","processVisibilityChanges","direction","visible","seek","list","i","style","opacity","pane","dir","content","ref","observer","IntersectionObserver","isIntersecting","target","parentNode","handleNavEntryVisibilityChange","threshold","elem","createElement","className","classList","add","innerHTML","insertBefore","observe"],"mappings":"kGAEe,SAASA,IAEpB,IADA,IAAIC,EAAQC,SAASC,uBAAuB,mBACnCC,EAAI,EAAGA,EAAIH,EAAMI,OAAQD,IAAK,CACnC,IAAIE,EAAOL,EAAMG,GACjB,GAAsC,QAAlCE,EAAKC,QAAQC,kBACb,SAGJF,EAAKC,QAAQC,kBAAoB,OACjC,IAAIC,EAAUH,EAAKH,uBAAuB,iBAC1C,IAAIO,EAAQD,EAAQ,GACpB,IAAIE,EAAWL,EAAKH,uBAAuB,yBACvCQ,EAASN,OAAS,IAClBK,EAAQC,EAAS,IACrBC,EAAkBN,EAAM,KAhBrB,yCAgB+BI,GAClCE,EAAkBN,EAAM,OAhBnB,2CAgBiCG,EAAQA,EAAQJ,OAAS,IAC/DQ,EAAyBP,EAAM,MAAM,IAgB7C,SAASO,EAAyBP,EAAMQ,EAAWC,GAC/C,IAAIC,EAAO,gBAAkBF,EAE7B,IADA,IAAIG,EAAOX,EAAKH,uBAAuBa,GAC9BE,EAAI,EAAGA,EAAID,EAAKZ,OAAQa,IAClBD,EAAKC,GACXC,MAAMC,QAAUL,EAAU,IAAM,IAI7C,SAASH,EAAkBS,EAAMC,EAAKC,EAASC,GAC3C,IAAIC,EAAW,IAAIC,sBAAqB,SAAUjB,IAvBtD,SAAwCA,EAASK,GAC7C,IAAIC,GAAU,EACVT,EAAO,KACX,IAAK,IAAIY,EAAI,EAAGA,EAAIT,EAAQJ,SACxBU,EAAUN,EAAQS,GAAGS,eACrBrB,EAAOG,EAAQS,GAAGU,OAAOC,YACrBd,GAH4BG,KAMxB,MAARZ,GAEJO,EAAyBP,EAAMQ,EAAWC,GAYmBe,CAA+BrB,EAASa,KAAS,CAAES,UAAW,KAAOzB,KAAMe,IACpIW,EAAO9B,SAAS+B,cAAc,OAMlC,OALAD,EAAKE,UAAY,gBAAkBZ,EACnCU,EAAKG,UAAUC,IAAI,gBACnBJ,EAAKK,UAAYd,EAAUA,EAC3BF,EAAKiB,aAAaN,EAAMR,GACxBC,EAASc,QAAQf,GACVQ,E","file":"821.bundle.js","sourcesContent":["const up = '<i class=\"fas fa-angle-double-up\"></i>';\r\nconst down = '<i class=\"fas fa-angle-double-down\"></i>';\r\nexport default function applyHooks() {\r\n    var menus = document.getElementsByClassName(\"navdrop-content\");\r\n    for (var k = 0; k < menus.length; k++) {\r\n        let root = menus[k];\r\n        if (root.dataset.processedNavHints == \"true\")\r\n            continue;\r\n        //if (root.scrollHeight <= root.clientHeight)\r\n        //continue;\r\n        root.dataset.processedNavHints = \"true\";\r\n        var entries = root.getElementsByClassName(\"navdrop-entry\");\r\n        let first = entries[0];\r\n        var entries2 = root.getElementsByClassName(\"navdropdown-subheader\");\r\n        if (entries2.length > 0)\r\n            first = entries2[0];\r\n        createNavScroller(root, \"up\", up, first);\r\n        createNavScroller(root, \"down\", down, entries[entries.length - 1]);\r\n        processVisibilityChanges(root, \"up\", true);\r\n    }\r\n}\r\nfunction handleNavEntryVisibilityChange(entries, direction) {\r\n    let visible = false;\r\n    let root = null;\r\n    for (var i = 0; i < entries.length; i++) {\r\n        visible = entries[i].isIntersecting;\r\n        root = entries[i].target.parentNode;\r\n        if (visible)\r\n            break;\r\n    }\r\n    if (root == null)\r\n        return;\r\n    processVisibilityChanges(root, direction, visible /* || window.getComputedStyle(root).display == 'none'*/);\r\n}\r\nfunction processVisibilityChanges(root, direction, visible) {\r\n    let seek = \"nav-scroller-\" + direction;\r\n    var list = root.getElementsByClassName(seek);\r\n    for (var i = 0; i < list.length; i++) {\r\n        let elem = list[i];\r\n        elem.style.opacity = visible ? \"0\" : \"1\";\r\n        //console.log(\"Visibility is \"+visible+\"; setting \"+direction+\" arrows to \"+elem.style.opacity+\" (\"+window.getComputedStyle(root).display+\")\");\r\n    }\r\n}\r\nfunction createNavScroller(pane, dir, content, ref) {\r\n    let observer = new IntersectionObserver(function (entries) { handleNavEntryVisibilityChange(entries, dir); }, { threshold: 0.875, root: pane });\r\n    let elem = document.createElement(\"div\");\r\n    elem.className = \"nav-scroller-\" + dir;\r\n    elem.classList.add(\"nav-scroller\");\r\n    elem.innerHTML = content + content;\r\n    pane.insertBefore(elem, ref);\r\n    observer.observe(ref);\r\n    return elem;\r\n}\r\n"],"sourceRoot":""}