(self.webpackChunksitecore=self.webpackChunksitecore||[]).push([[647],{938:(e,t,n)=>{"use strict";function r(e,t,n){var r,i,o;void 0===t&&(t=50),void 0===n&&(n={});var a=null!=(r=n.isImmediate)&&r,l=null!=(i=n.callback)&&i,s=n.maxWait,c=Date.now(),d=[];function u(){if(void 0!==s){var e=Date.now()-c;if(e+t>=s)return s-e}return t}var h=function(){var t=[].slice.call(arguments),n=this;return new Promise((function(r,i){var s=a&&void 0===o;if(void 0!==o&&clearTimeout(o),o=setTimeout((function(){if(o=void 0,c=Date.now(),!a){var r=e.apply(n,t);l&&l(r),d.forEach((function(e){return(0,e.resolve)(r)})),d=[]}}),u()),s){var h=e.apply(n,t);return l&&l(h),r(h)}d.push({resolve:r,reject:i})}))};return h.cancel=function(e){void 0!==o&&clearTimeout(o),d.forEach((function(t){return(0,t.reject)(e)})),d=[]},h}n.d(t,{D:()=>r})},212:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});const r=!1;document.addEventListener("DOMContentLoaded",(function(){console.log("Detected phone browser: "+r),function(){if(r){for(var e=document.getElementsByClassName("deembed-media");e.length>0;){let n=e[0],r=n.parentNode;if("VIDEO"==r.tagName){let e=document.createElement("div");e.innerHTML='<a href = "'+n.src+'">'+n.src+"</a>",r.parentNode.replaceChild(e,r)}else if("video"==r.className){var t=n.src.replace("embed/","watch?v=");r.innerHTML='<a href = "'+t+'">'+t+"</a>"}else"header-image"!=r.className?r.innerHTML=n.src+"<br>":r.innerHTML="";console.log("Hiding media '"+n.src+"'")}for(var n=document.getElementsByClassName("textarea"),i=0;i<n.length;i++)n[i].style.width="33%";let r=document.createElement("div");r.innerHTML="<div style = 'text-align: center; width: 33%; margin: auto; border: 3px solid red;'><h2 style = 'color: red; margin: 12px;'>This site is not designed for use on phones and other handheld devices, nor is any of its content relevant on such platforms. You may continue to browse it this way if you wish, but it is recommended that you visit the site with a proper computer.</h2></div>";let o=document.getElementById("navbar");o.parentNode.insertBefore(r,o.nextSibling);let a=document.getElementById("toc_container");a.parentNode.removeChild(a)}}()}))},452:(e,t,n)=>{"use strict";n.d(t,{XV:()=>o,hm:()=>s,Jt:()=>c,pX:()=>d,yK:()=>u,HP:()=>h,rR:()=>m,eT:()=>f,yJ:()=>g,sc:()=>M,sT:()=>N,Fq:()=>S,Jj:()=>x,Yh:()=>E,Yy:()=>H});let r={};const i=new Date,o=i.getSeconds(),a=i.getMonth(),l=i.getDate(),s=11==a||0==a&&l<=10,c=9==a&&l>=10,d="visibility",u="visible",h="x",m="y",f="height",g="width";let v,w,p=-1,y=-1,b={};function M(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function N(e,t){return Math.random()*(t-e)+e}function S(e,t){return null==b[e]&&(b[e]=function(e){if(null==r[e]||void 0===r[e]){for(var t="images/"+e+"/",n=window.location.href,i=n.indexOf("sitecore"),o=(n=n.substring(i+9)).split("/").length-1,a=0;a<o;a++)t="../"+t;r[e]=t}return r[e]}(t)+e+".png"),b[e]}function x(e){return p!=e&&(p=e,v=p.toString()),v}function E(e){return y!=e&&(y=e,w=y.toString()),w}function H(e,t,n){return t+n*e}},647:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(938),i=n(452),o=n(212);function a(e,t,n,r,o,a){var l=document.createElementNS("http://www.w3.org/2000/svg","image");l.setAttributeNS(null,i.yJ,(0,i.Jj)(o)),l.setAttributeNS(null,i.eT,(0,i.Yh)(a)),l.setAttributeNS("http://www.w3.org/1999/xlink","href",(0,i.Fq)(t,"portal/tiles")),l.setAttributeNS(null,i.HP,n.toString()),l.setAttributeNS(null,i.rR,r.toString()),l.setAttributeNS(null,i.pX,i.yK),(t.startsWith("lightbridge")||"laser_snow"==t)&&l.setAttributeNS(null,"style","mix-blend-mode: screen;"),e.appendChild(l)}function l(e,t,n,r,i,o,a){return a}function s(e,t,n,r,o,a){for(var l=(0,i.sc)(1,6),s=(0,i.sc)(1,3),c=(0,i.sc)(0,r-1),u=(0,i.sc)(0,n-1),h=Math.min(c+l,r),m=Math.min(u+s,n),f=c;f<h;f++)for(var g=u;g<m;g++){var v="white"+(0,i.sc)(0,3),w=(0,i.Yy)(r,f,g);e[w]=v,o&&Math.random()<.1?(d(t,w,"portal_b"),o=!1):a&&Math.random()<.1&&(d(t,w,"portal_o"),a=!1)}return[o,a]}function c(e,t,n,r,o){var a=Math.random()<.5?Math.random()<.5?"lightbridge":"laser":i.hm?"funnel_xmas":Math.random()<.35?"funnel_o":"funnel",l=0==r?1:0,s=1-l;for(a+=0==l?"_v":"_h";r<n&&o<t;)d(e,(0,i.Yy)(n,r,o),a),r+=l,o+=s}function d(e,t,n){1==e[t].length&&"air"==e[t][0]&&(e[t]=[]),e[t].push(n)}function u(){if(o.M)return;let e=document.body,t=document.documentElement,n=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)-64,r=document.getElementsByClassName("title-image")[0];null==r||null==r.src||""==r.src||r.src==window.location.href?n+=72:n+=48;let d=Math.max(n,window.innerHeight,document.body.clientHeight),u=Math.max(window.innerWidth,document.body.clientWidth),h=Math.ceil(d/128),m=Math.ceil(u/128),f=128*m,g=128*h;console.log("Generating portal tileset with "+m+" columns and "+h+" rows");let v=document.createElementNS("http://www.w3.org/2000/svg","svg");v.setAttributeNS(null,"width",f.toString()),v.setAttributeNS(null,"height",g.toString());let w=new Array(m*h),p=new Array(m*h);for(var y=0;y<m;y++)for(var b=0;b<h;b++){var M="black"+(0,i.sc)(0,15),N=(0,i.Yy)(m,y,b);w[N]=M,p[N]=["air"]}let S=!0,x=!0;for(y=0;y<h/4;y++){var E=s(w,p,h,m,S,x);S=E[0],x=E[1]}!function(e,t,n){for(var r=1;r<t-1;r++)Math.random()<.1&&c(e,t,n,0,r);for(r=1;r<n-1;r++)Math.random()<.1&&c(e,t,n,r,0)}(p,h,m),function(e,t,n,r,o){for(var s=128,c=128,d=0,u=0,h=[],m=0;m<t;m++){d=0;for(var f=0;f<n;f++){let t=(0,i.Yy)(n,f,m),w=o[t];if(a(e,r[t],d,u,s,c),1!=w.length||"air"!=w[0])for(var g=0;g<w.length;g++){var v=w[g];"air"!=v&&(a(e,v=l(0,0,0,0,0,0,v),d,u,s,c),i.hm&&v.startsWith("laser")&&h.push({x:d,y:u}))}d+=s}u+=c}for(f=0;f<h.length;f++)for(var w=h[f],p=(0,i.sc)(4,9),y=0;y<p;y++)a(e,"laser_snow",(0,i.sc)(w.x-36,w.x+s-12),(0,i.sc)(w.y-36,w.y+c-12),48,48)}(v,h,m,w,p);let H="background-content",C=document.getElementById(H);for(null==C&&(C=document.createElement("div"),C.id=H,console.log("Injecting background element."),document.body.prepend(C));C.firstChild;)C.removeChild(C.firstChild);C.appendChild(v)}window.addEventListener("resize",(0,r.D)(u,250,{isImmediate:!0}))}}]);
//# sourceMappingURL=647.bundle.js.map