(self.webpackChunksitecore=self.webpackChunksitecore||[]).push([[990],{990:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var l=r(621),o=r(212);const a={red:(0,l.$W)("ff0000"),orange:(0,l.$W)("FF7F00"),yellow:(0,l.$W)("ffD800"),green:(0,l.$W)("00ff00"),cyan:(0,l.$W)("00ffff"),argon:(0,l.$W)("4CCCFF"),blue:(0,l.$W)("0045ff"),purple:(0,l.$W)("A426FF"),magenta:(0,l.$W)("FF00FF"),white:(0,l.$W)("ffffff")},i=["argon","argon","purple","red","yellow","yellow","orange","purple","green","magenta","blue"];function s(e,t,r,l){let o=document.createElement("div");return o.className="tile-factorio-"+t,"air"!=t&&null!=t||(o.style.width=r.toString()+"px",o.style.height=l.toString()+"px"),e.appendChild(o),o}function n(e,t,r,l,o,a,i=1){let n=s(e,t,r,l);return n.style.position="absolute",n.style.left=o.toString()+"px",n.style.top=a.toString()+"px",null!=t&&void 0!==t&&t.startsWith("oil")&&(i*=1.5),n.style.transformOrigin="top left",n.style.transform="scale("+i+")","spawner"==t&&(n.style.transform=n.style.transform+" translate(-16px)"),n}function h(e,t,r,o,a){for(var i=32*a,n=32*a,h=0;h<t;h++){let t=document.createElement("div");for(var f=0;f<r;f++){let e=(0,l.Yy)(r,f,h),a=o[e];a=c(o,0,r,f,h,0,a),s(t,a,i,n)}e.appendChild(t)}(0,l.xE)(e,1)}function c(e,t,r,o,a,i,s){if(null!=s&&void 0!==s&&s.startsWith("belt")&&7==s.length)s=function(e,t,r,o,a,i,s){var n=(0,l.Yy)(r,o-1,a),h=(0,l.Yy)(r,o+1,a),c=(0,l.Yy)(r,o,a-1),f=(0,l.Yy)(r,o,a+1);return e[n]!=e[h]||"belt-left"!=e[n]&&"belt-right"!=e[n]?"belt-dr"!=e[n]&&"belt-ur"!=e[n]||"belt-right"!=e[h]?"belt-dl"!=e[h]&&"belt-ul"!=e[h]||"belt-left"!=e[n]?"belt-dr"!=e[n]&&"belt-ur"!=e[n]&&"belt-right"!=e[n]||"belt-left"!=e[h]&&"belt-dl"!=e[h]&&"belt-ul"!=e[h]?e[c]!=e[f]||"belt-up"!=e[f]&&"belt-down"!=e[f]?"belt-lu"!=e[f]&&"belt-ru"!=e[f]||"belt-up"!=e[c]?"belt-ld"!=e[c]&&"belt-rd"!=e[c]||"belt-down"!=e[f]?"belt-down"!=e[c]&&"belt-rd"!=e[c]&&"belt-ld"!=e[c]||"belt-up"!=e[f]&&"belt-ru"!=e[f]&&"belt-lu"!=e[f]?s:"belt-right"==s||"belt-dr"==s||"belt-ur"==s?"belt-right":"belt-left":"belt-down":"belt-up":e[f]:"belt-down"==s||"belt-ld"==s||"belt-rd"==s?"belt-down":"belt-up":"belt-left":"belt-right":e[n]}(e,0,r,o,a,0,s);else if("blocker"==s)return"air";return s}function f(e,t,r){var o=0,a=0,i=0,s=0,n="";switch((0,l.sc)(0,3)){case 0:o=(0,l.sc)(0,t-1),a=e-1,s=-1,n="up";break;case 1:o=0,a=(0,l.sc)(0,e-1),i=1,n="right";break;case 2:o=(0,l.sc)(0,t-1),a=0,s=1,n="down";break;case 3:o=t-1,a=(0,l.sc)(0,e-1),i=-1,n="left"}for(var h=!0,c=o,f=a,u=0;h;){var y=n,m=n,g=(0,l.Yy)(t,c,f);if("air"!=r[g])break;var b=Math.random(),p=Math.min(.35,.066*u),M=!d(r,t,e,c,f,i,s);if(b<p||M){u=0;var x=-1!=s&&d(r,t,e,c,f,0,1),v=1!=s&&d(r,t,e,c,f,0,-1),w=1!=i&&d(r,t,e,c,f,-1,0),Y=-1!=i&&d(r,t,e,c,f,1,0),k=[];if(x&&k.push("down"),v&&k.push("up"),w&&k.push("left"),Y&&k.push("right"),k.length>1&&(k=k.filter((e=>e!=y))),k.length>0)switch(k[Math.floor(Math.random()*k.length)]){case"left":i=-1,n="left",m=1==s?"dl":"ul",s=0;break;case"right":i=1,n="right",m=1==s?"dr":"ur",s=0;break;case"up":s=-1,n="up",m=1==i?"ru":"lu",i=0;break;case"down":s=1,n="down",m=1==i?"rd":"ld",i=0}else i=0,s=0}else u++;var S=0==i&&0==s;r[g]="belt-"+m,f+=s,h=(c+=i)>=0&&c<t&&f>=0&&f<e&&!S}}function d(e,t,r,o,a,i,s){var n=o+i,h=a+s,c=(0,l.Yy)(t,n,h);return n<0||n>=t||h<0||h>=r||"air"==e[c]||e[c].startsWith("belt")&&Math.random()<.5}function u(e,t,r){for(var o=(0,l.sc)(4,t-4),a=(0,l.sc)(4,e-4),i=[2,5],s=(0,l.sT)(i[0],i[1]),n=(0,l.sT)(i[0],i[1]),h=Math.max(0,Math.floor(o-s)),c=Math.max(0,Math.floor(a-n)),f=Math.min(t-1,Math.floor(o+s)),d=Math.min(e-1,Math.floor(a+n)),u=.75,y=(0,l.sT)(-u,u),m=(0,l.sT)(-u,u),g=h;g<=f;g++)for(var b=c;b<=d;b++){var p=g-o,M=b-a;if(p*p+M*M<=s*n+.5){var x=g+Math.floor(y*M),v=b+Math.floor(m*p);r[(0,l.Yy)(t,x,v)]=l.hm?"ice"+(0,l.sc)(0,15):"dirt"+(0,l.sc)(0,20)}}}function y(){if(o.M)return;document.body,document.documentElement;var e=document.body.offsetHeight,t=Math.max(window.innerWidth,document.body.clientWidth);let r=Math.ceil(e/32),s=Math.ceil(t/32),d=32*s,y=32*r;console.log("Generating Factorio tileset with "+s+" columns and "+r+" rows");for(var m=new Array(Math.ceil(s*r/4)),g=new Array(s*r),b=new Array(s*r),p=0;p<s;p++)for(var M=0;M<r;M++){let e=(0,l.Yy)(s,p,M),t="air";if(b[e]=t,g[e]=t,p<s/2&&M<r/2){let e=l.hm||Math.random()<.125?15:3;m[(0,l.Yy)(Math.ceil(s/2),p,M)]=(l.hm?"snow":"grass")+(0,l.sc)(0,e)}}for(p=0;p<Math.floor(r/6);p++)u(r/2,s/2,m);var x=function(e,t,r){for(var o=[],a=0;a<e*t/200;a++){var i=(0,l.sc)(2,9),s=(0,l.sc)(i+2,t-i-2),n=(0,l.sc)(i+2,e-i-2),h=Math.max(0,Math.floor(s-i)),c=Math.max(0,Math.floor(n-i)),f=Math.min(t-1,Math.floor(s+i)),d=Math.min(e-1,Math.floor(n+i)),u=7,y=Math.random(),m="coal";if(y<.1?m="oil":y<.4?m="copper":y<.7&&(m="iron"),Math.random()<.2&&(m="geothermal_"),"oil"==m||"geothermal_"==m){u="oil"==m?3:5;for(var g=0;g<2*i;g++){var b=(0,l.sc)(h,f),p=(0,l.sc)(c,d);"air"==r[v=(0,l.Yy)(t,b,p)]&&(r[v]=m+(0,l.sc)(0,u),"geothermal_"==m&&(o.push({x:b,y:p}),b>0&&(r[(0,l.Yy)(t,b-1,p)]="blocker"),b<t&&(r[(0,l.Yy)(t,b+1,p)]="blocker"),p>0&&(r[(0,l.Yy)(t,b,p-1)]="blocker"),p<e&&(r[(0,l.Yy)(t,b,p+1)]="blocker")))}}else for(var M=h;M<=f;M++)for(var x=c;x<=d;x++){var v,w=M-s,Y=x-n;w*w+Y*Y<=i*i+.5&&"air"==r[v=(0,l.Yy)(t,M,x)]&&(r[v]=m+(0,l.sc)(0,u))}}return o}(r,s,g);let v=function(e,t,r,o,a,i,s,n){for(var h=[],c=0;c<Math.floor(e/4);c++){for(var f="rock"+(0,l.sc)(1,4),d="rock1"==f?128:64,u=(0,l.sc)(d/2,a-d/2),y=(0,l.sc)(d/2,i-d/2),m=Math.floor(u/s),g=Math.floor(y/n),b=Math.ceil((u+d/2)/s),p=Math.ceil((y+d/2)/n),M=!0,x=m;x<=b&&M;x++)for(var v=g;v<=p&&M;v++)"air"!=o[(0,l.Yy)(t,x,v)]&&(M=!1);if(M){for(x=m;x<=b;x++)for(v=g;v<=p;v++)o[(0,l.Yy)(t,x,v)]="blocker";var w={image:f,x:u,y,size:d,scale:.5};h.push(w)}}for(c=0;c<Math.max(5,Math.floor(e/15));c++)for(var Y=(0,l.sc)(256,a-256),k=(0,l.sc)(256,i-256),S=0;S<3;S++){var C="dome";for(d=128,u=(0,l.sc)(Y-d,Y+d),y=(0,l.sc)(k-d,k+d),m=Math.floor(u/s),g=Math.floor(y/n),b=Math.ceil((u+d/2)/s),p=Math.ceil((y+d/2)/n),M=!0,x=m;x<=b&&M;x++)for(v=g;v<=p&&M;v++)"air"!=o[(0,l.Yy)(t,x,v)]&&(M=!1);if(M){for(x=m;x<=b;x++)for(v=g;v<=p;v++)o[(0,l.Yy)(t,x,v)]="blocker";w={image:C,x:u,y,size:d,scale:.5},h.push(w)}}for(c=0;c<Math.floor(e/16);c++){for(d=192,u=(0,l.sc)(d/2,a-d/2),y=(0,l.sc)(d/2,i-d/2),m=Math.floor(u/s),g=Math.floor(y/n),b=Math.ceil((u+d/2)/s),p=Math.ceil((y+d/2)/n),M=!0,x=m;x<=b&&M;x++)for(v=g;v<=p&&M;v++)"air"!=o[(0,l.Yy)(t,x,v)]&&(M=!1);if(M){for(x=m;x<=b;x++)for(v=g;v<=p;v++)o[(0,l.Yy)(t,x,v)]="blocker";for(w={image:"spawner",x:u,y,size:d,scale:.75},h.push(w),S=0;S<3;S++){var W=(0,l.sc)(0,360)*Math.PI/180,z=(0,l.sT)(d/3,d);for(u=w.x+d/2+Math.cos(W)*z,y=w.y+d/2+Math.sin(W)*z,m=Math.floor(u/s),g=Math.floor(y/n),b=Math.ceil((u+d/2)/s),p=Math.ceil((y+d/2)/n),M=!0,x=m;x<=b&&M;x++)for(v=g;v<=p&&M;v++)"air"!=o[(0,l.Yy)(t,x,v)]&&(M=!1);if(M){for(x=m;x<=b;x++)for(v=g;v<=p;v++)o[(0,l.Yy)(t,x,v)]="blocker";h.push({image:"worm",x:u,y,size:96,scale:.75})}}for(S=0;S<9;S++){W=(0,l.sc)(0,360)*Math.PI/180,z=(0,l.sT)(d/3,d),u=w.x+d/2+Math.cos(W)*z,y=w.y+d/2+Math.sin(W)*z;var E="biter"+(0,l.sc)(1,4);Math.random()<.1&&(E="fly"),h.push({image:E,x:u,y,size:64,scale:1})}}}for(c=0;c<Math.floor(e*t/12);c++){d=128,u=(0,l.sc)(d/2,a-d/2),y=(0,l.sc)(d/2,i-d/2);var F=Math.floor((u+d/2)/s),$=Math.floor((y+d/2)/n);if(M="air"==o[(0,l.Yy)(t,F,$)]){var R=(0,l.Yy)(Math.floor(t/2),Math.floor(F/2),Math.floor($/2)),T=r[R].startsWith("dirt")||r[R].startsWith("ice");if(T&&l.hm)continue;w={image:"tree"+(0,l.sc)(T?1:3,T?2:5),x:u,y,size:d,scale:1},l.hm&&(w.image="snowtree"+(0,l.sc)(1,3),w.scale*=1.5),h.push(w)}}return h}(r,s,m,b,d,y,32,32);for(p=0;p<Math.floor(r/1.5);p++)f(r,s,b);let w="background-content",Y=document.getElementById(w);for(null==Y&&(Y=document.createElement("div"),Y.id=w,console.log("Injecting background element."),document.body.prepend(Y));Y.firstChild;)Y.removeChild(Y.firstChild);let k=document.createElement("div"),S=document.createElement("div"),C=document.createElement("div"),W=document.createElement("div"),z=document.createElement("div"),E=document.createElement("div");Y.appendChild(k),Y.appendChild(S),Y.appendChild(C),Y.appendChild(W),(0,l.w7)()&&Y.appendChild(E),Y.appendChild(z),k.style.width=t.toString()+"px",k.style.height=e.toString()+"px",S.style.width=t.toString()+"px",S.style.height=e.toString()+"px",S.style.position="absolute",C.style.width=t.toString()+"px",C.style.height=e.toString()+"px",W.style.width=t.toString()+"px",W.style.height=e.toString()+"px",W.style.position="absolute",z.style.width=t.toString()+"px",z.style.height=e.toString()+"px",z.style.position="absolute",z.style.setProperty("mix-blend-mode","screen"),k.className="tile-layer",C.className="tile-layer",h(k,r/2,s/2,m,2),function(e,t,r,o,a,i=1,s=0,h=0){for(var f=0,d=0,u=0;u<t;u++){f=0;for(var y=0;y<r;y++){let t=o[(0,l.Yy)(r,y,u)];if(t=c(o,0,r,y,u,0,t),"air"!=t){let r=f;s>0&&(r+=(Math.random()-.5)*s*2);let l=d;h>0&&(l+=(Math.random()-.5)*h*2),n(e,t,a,a,r,l,i)}f+=a}d+=a}(0,l.xE)(e,1)}(S,r,s,g,32,.75,4,4),h(C,r,s,b,1);try{for(let[e,t]of Object.entries(a)){let r=".tile-factorio-glowcolor_"+e+"::after",l=512,o=0;document.styleSheets[0].addRule(r,"width: "+l+"px;"),document.styleSheets[0].addRule(r,"height: "+l+"px;"),document.styleSheets[0].addRule(r,"top: "+o+"px;"),document.styleSheets[0].addRule(r,"left: "+o+"px;"),document.styleSheets[0].addRule(r,"background: radial-gradient(rgba("+t.r+","+t.g+","+t.b+",255) 0%, rgba("+t.r+","+t.g+","+t.b+",0) 70%);"),document.styleSheets[0].addRule(r,"mix-blend-mode: screen;")}}catch(e){console.log("Could not access ruleset: "+e)}let F=[],$=[];for(p=0;p<v.length;p++){var R=v[p].x-16,T=v[p].y-16,_=1*v[p].size;"dome"==v[p].image?(F.push({image:"domeglow",x:R-192,y:T-160,size:4*_}),v[p].scale=1):("fly"==v[p].image||v[p].image.startsWith("biter"))&&$.push({x:v[p].x-v[p].size/2,y:v[p].y-v[p].size/2,size:v[p].size}),n(W,v[p].image,_,_,R,T,v[p].scale)}for(p=0;p<F.length;p++)n(z,F[p].image,F[p].size,F[p].size,F[p].x,F[p].y);let A=[];for(var I=0;I<Math.floor(r/2);I++){let r=(0,l.sc)(0,10),o=i[r];n(W,"biolumbush"+r,64,64,R=(0,l.sc)(64,t-64),T=(0,l.sc)(64,e-64),.75),A.push({color:o,x:R,y:T})}if((0,l.w7)()){for(E.style.width=t.toString()+"px",E.style.height=e.toString()+"px",E.style.position="absolute",E.style.backgroundColor="#395060",E.style.setProperty("mix-blend-mode","multiply"),p=0;p<x.length;p++)n(E,"light",256,256,32*x[p].x-48,32*x[p].y-45,.33);for(p=0;p<$.length;p++)n(E,"light",256,256,$[p].x-16,$[p].y-16,.25);for(console.log(A),I=0;I<A.length;I++){let e=A[I];for(p=0;p<2;p++){let t=n(E,"glowcolor_"+e.color,512,512,e.x-22,e.y-22,.175);t.style.width="512px",t.style.height="512px"}}for(I=0;I<Math.floor(r/3);I++){var P="biolumtree"+(0,l.sc)(0,1);let r=(0,l.v4)(a);for(n(W,P,64,64,R=(0,l.sc)(64,t-64),T=(0,l.sc)(64,e-64),1),M=-1;M<=1;M++)for(p=0;p<2;p++){let e=n(E,"glowcolor_"+r,512,512,R+2,T+32*M,.25);e.style.width="512px",e.style.height="512px"}}}(0,l.xE)(W,1)}}}]);
//# sourceMappingURL=990.bundle.js.map