(self.webpackChunksitecore=self.webpackChunksitecore||[]).push([[162],{938:(r,a,e)=>{"use strict";function t(r,a,e){var t,o,n;void 0===a&&(a=50),void 0===e&&(e={});var s=null!=(t=e.isImmediate)&&t,i=null!=(o=e.callback)&&o,c=e.maxWait,l=Date.now(),u=[];function f(){if(void 0!==c){var r=Date.now()-l;if(r+a>=c)return c-r}return a}var h=function(){var a=[].slice.call(arguments),e=this;return new Promise((function(t,o){var c=s&&void 0===n;if(void 0!==n&&clearTimeout(n),n=setTimeout((function(){if(n=void 0,l=Date.now(),!s){var t=r.apply(e,a);i&&i(t),u.forEach((function(r){return(0,r.resolve)(t)})),u=[]}}),f()),c){var h=r.apply(e,a);return i&&i(h),t(h)}u.push({resolve:t,reject:o})}))};return h.cancel=function(r){void 0!==n&&clearTimeout(n),u.forEach((function(a){return(0,a.reject)(r)})),u=[]},h}e.d(a,{D:()=>t})},162:(r,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>p});var t=e(938),o=e(621),n=e(212);function s(r,a){let e=document.createElement("div");return e.className="tile-minecraft-"+a,r.appendChild(e),e}function i(r,a,e,t,n){switch(r){case"mob_spawner":return"dark_mob_spawner";case"crystal_green":return"dark_crystal_green";case"crystal_white":return"dark_crystal_white";case"crystal_purple":return"dark_crystal_purple";case"redstone_ore":return"dark_redstone_ore";case"fluorite":return"dark_fluorite";case"lava":return"air";default:return"lava"==e[(0,o.Yy)(a,t,n+1)]?"dark_weak":"dark"}}function c(r){switch(r){case"air":case"mob_spawner":case"web":case"crystal_purple":case"crystal_green":case"crystal_white":return!0;default:return!1}}function l(r,a,e,t){if(0==a)return"grass_side";if(a<=4){if(a<=Math.max(1,3+Math.sin(o.XV+.873*r)+Math.cos(1.8734*o.XV+.7624*r)))return"dirt"}else if(a>e-4-t&&e-a-t<=5*Math.random())return"bedrock";return"stone"}function u(r){return"air"==r||"cave"==r||"water"==r||"web"==r}function f(r,a,e,t,n,s,i){e[t]="water";var c=(0,o.Yy)(a,n,s+1);if("lava"==e[c]&&(e[c]="obsidian"),u(e[c]))f(r,a,e,c,n,s+1,!0);else if(i){for(var l=0;l<=2&&u(e[h=(0,o.Yy)(a,n+l,s)])&&(f(r,a,e,h,n+l,s,!1),!u(e[h+a]));l++);for(l=0;l<=2;l++){var h;if(!u(e[h=(0,o.Yy)(a,n-l,s)]))break;if(f(r,a,e,h,n-l,s,!1),u(e[h+a]))break}}}function h(r,a,e,t,n,s,i){if("grass_side"==i){var l=(0,o.Yy)(a,t,n-1);"sky"==e[l]||c(e[l])||(i="dirt")}if(o.hm&&("grass_side"==i&&(i="grass_side_xmas"),"crystalcol"==i&&(i="crystalcol_xmas"),"tallgrass"==i&&(i="tallgrass_xmas")),"tallgrass"==i&&o.Jt&&Math.random()<.33&&(i="pumpkin"),Math.random()<.04&&"cave"==i&&"stone"==e[s+a]){var u=Math.random();i=u<.33?"crystal_purple":u<.67?"crystal_white":"crystal_green"}return i}function d(r,a,e,t,n,s){for(var i=function(r){if(r.startsWith("rock_"))return[2.25,4.5];switch(r){case"diamond_ore":case"lapis_ore":case"calcite":return[.5,1.5];case"iron_ore":case"gold_ore":case"copper_ore":case"tin_ore":case"nickel_ore":case"cadmium":case"indium":return[1.5,3];case"redstone_ore":case"coal_ore":case"fluorite":case"magnetite":return[2,3.5];case"dirt":case"gravel":return[2.5,4];case"cave":case"air":return[2.5,5];default:return[0,0]}}(s),c=(0,o.sT)(i[0],i[1]),l=(0,o.sT)(i[0],i[1]),u=Math.max(0,Math.floor(t-c)),f=Math.max(0,Math.floor(n-l)),h=Math.min(a-1,Math.floor(t+c)),d=Math.min(r-1,Math.floor(n+l)),m=.75,v=(0,o.sT)(-m,m),y=(0,o.sT)(-m,m),M=u;M<=h;M++)for(var p=f;p<=d;p++){var _=M-t,g=p-n;if(_*_+g*g<=c*l+.5){var w=M+Math.floor(v*g),b=p+Math.floor(y*_),Y=(0,o.Yy)(a,w,b);(null==e[Y]||"stone"==e[Y]||e[Y].startsWith("rock_")||"cobblestone"==e[Y]&&"cave"==s)&&(e[Y]=s)}}}function m(r,a){var e=a/r,t=["granite","hornfel","quartz"];return e<.5&&(t.push("basalt"),t.push("shale"),t.push("limestone"),t.push("sandstone")),e<.75&&e>.25&&(t.push("slate"),t.push("gneiss"),t.push("granulite"),t.push("schist")),e>.5&&(t.push("marble"),t.push("peridotite")),e>.75&&(t.push("pumice"),t.push("onyx"),t.push("migmatite")),t[Math.floor(Math.random()*t.length)]}function v(r,a){var e=a/r,t=["coal_ore"];return e>.2&&t.push("iron_ore"),e>.5&&(t.push("gold_ore"),t.push("lapis_ore")),e>.75&&(t.push("redstone_ore"),t.push("diamond_ore"),t.push("emerald_ore"),t.push("cadmium"),t.push("indium")),e<.2&&t.push("magnetite"),e<.4&&t.push("fluorite"),e>.15&&e<.35&&t.push("calcite"),t[Math.floor(Math.random()*t.length)]}function y(r,a,e,t,n){let s=t[n];if(s<=4)return!1;var i=o.hm,c=Math.min(s-1,i?(0,o.sc)(8,12):(0,o.sc)(4,8));if(c<=(i?8:5))return!1;if("sky"!=e[(0,o.Yy)(a,n-2,s-c)])return!1;if("sky"!=e[(0,o.Yy)(a,n+2,s-c)])return!1;if("sky"!=e[(0,o.Yy)(a,n,s-c)])return!1;if("sky"!=e[(0,o.Yy)(a,n-2,s-c+2)])return!1;if("sky"!=e[(0,o.Yy)(a,n+2,s-c+2)])return!1;if(i){for(var l=0;l<=c;l++)e[(0,o.Yy)(a,n,s-l)]=0==l?"dirt":"log_spruce";var u=2;for(l=Math.max(2,c-6);l<=c;l++){for(var f=n-u;f<=n+u;f++)e[(0,o.Yy)(a,f,s-l)]="leaves_spruce";(u+=Math.random()<=.5?1:2)>3&&(u-=3),l+1==c-1&&(u=1),l+1==c&&(u=0)}}else{var h=Math.random()<=.35,d=h?"leaves_birch":"leaves";for(l=0;l<=c;l++)e[(0,o.Yy)(a,n,s-l)]=0==l?"dirt":h?"log_birch":"log";for(l=c-3;l<=c;l++)for(u=l>=c-1?1:2,h||l!=c||(u=0),f=n-u;f<=n+u;f++)e[(0,o.Yy)(a,f,s-l)]=d}return console.log("Generating tree at "+n+", "+s),!0}function M(r,a,e,t,n){var s=t[n];if(s<7)return!1;console.log("Generating pylon at "+n+", "+s);for(var i=n-3;i<=n+3;i++)for(var c=s;c<=t[i];c++)e[(0,o.Yy)(a,i,c)]="crystalstone";for(i=n-3;i<=n+3;i+=2){var l=i==n-3||i==n+3?5:7;for(c=1;c<l;c++)e[(0,o.Yy)(a,i,s-c)]="crystalcol";e[(0,o.Yy)(a,i,s-l)]="rune"}return e[(0,o.Yy)(a,n-2,s-3)]="crystalbeam",e[(0,o.Yy)(a,n+2,s-3)]="crystalbeam",!0}function p(){if(n.M)return;let r=document.body,a=document.documentElement;var e=Math.max(r.offsetHeight,a.clientHeight,a.offsetHeight,window.innerHeight,document.body.clientHeight),t=Math.max(window.innerWidth,document.body.clientWidth);let p="background-content",_=document.getElementById(p),g=Math.ceil(e/32),w=Math.ceil(t/32);console.log("Generating MC chunk slice tileset with "+w+" columns and "+g+" rows from "+t+" x "+e);let b=new Array(w*g),Y=Math.max(0,Math.min(14,Math.ceil(.1*g))),k=new Array(w),x=Math.floor(Y/3),T=(0,o.sT)(-1,1),E=(0,o.sT)(x,Y);for(var C=0;C<w;C++)k[C]=Math.floor(E),E+=T,E=Math.max(x,Math.min(Y,E)),(Math.random()<.3||E>=Y-1||E<=x+1)&&(T+=(0,o.sT)(-.2,.2),E>=Y-1&&(T=Math.min(T,0)),E<=x+1&&(T=Math.max(T,0)),T=Math.max(-1,Math.min(1,T)));for(C=0;C<w;C++)for(let r=0;r<k[C];r++)b[(0,o.Yy)(w,C,r)]="sky";for(C=0;C<w;C++)for(let r=k[C];r<g;r++){let a=l(C,r-k[C],g,k[C]);b[(0,o.Yy)(w,C,r)]=a}for(function(r,a,e,t){for(var n=0;n<2;n++)for(var s=(0,o.sc)(3,a-3),i=s-2;i<=s+2;i++){var c=(0,o.Yy)(a,i-1,t[i]),l=(0,o.Yy)(a,i+1,t[i]);if(!("grass_side"!=e[c]&&"water"!=e[c]&&"ice"!=e[c]&&"dirt"!=e[c]||"grass_side"!=e[l]&&"ice"!=e[l]&&"water"!=e[l]&&"dirt"!=e[l])){var u=(0,o.Yy)(a,i,t[i]+1);e[d=(0,o.Yy)(a,i,t[i])]=o.hm?"ice":"water","dirt"==e[u]&&(e[u]="grass_side")}}var f=!1;for(n=0;n<2&&!f;n++)f=M(0,a,e,t,(0,o.sc)(3,a-3));var h=0;for(n=0;n<(o.hm?8:4)&&h<3;n++)y(0,a,e,t,(0,o.sc)(3,a-3))&&h++;for(i=0;i<r;i++){var d;if(t[i]>0&&Math.random()<.6&&"grass_side"==e[(0,o.Yy)(a,i,t[i])]&&"sky"==e[d=(0,o.Yy)(a,i,t[i]-1)]){var m="tallgrass",v=Math.random();v<.1?m="flower2":v<.25&&(m="flower1"),e[d]=m}}}(g,w,b,k),function(r,a,e,t){if(Math.random()<.75){var n=(0,o.sc)(2,a-2),s=(0,o.sc)(t+4,r-7);console.log("Generating a dungeon @ "+n+", "+s);for(var i=Math.random()<.5?4:3,c=Math.min(i,Math.random()<.5?4:3),l=-i;l<=i;l++)for(var u=0;u<=c;u++){var f=n+l,h=s+u,d="cobblestone";u==c?Math.random()<.75&&(d="cobblestone_mossy"):u==c-1&&0==l?d="mob_spawner":Math.abs(l)!=i&&(d="air"),e[(0,o.Yy)(a,f,h)]=d}}if(Math.random()<.75){var m=(0,o.sc)(1,3);console.log("Generating "+m+" mineshaft pieces.");for(var v=0;v<m;v++){var y=Math.random()<.8;if(s=(0,o.sc)(t+4,r-5),y)for(n=(0,o.sc)(1,a-1),l=-1;l<=1;l++)for(u=0;u<=2;u++)f=n+l,h=s+u,d="cave",(0==u||Math.random()<.4&&1==Math.abs(l))&&(d="planks_oak"),Math.random()<.15&&(d="cave"==d?"web":"web_on_wood"),e[(0,o.Yy)(a,f,h)]=d;else{i=(0,o.sc)(5,Math.ceil(a/3)),n=(0,o.sc)(i,a-i);var M=(0,o.sc)(0,5),p=Math.random()<.5;for(l=-i;l<=i;l++)for(u=0;u<=2;u++){f=n+l,h=s+u,d="cave";var _=p?0==l:Math.abs(l)==Math.floor(i/1.5);(l+256)%6==M&&(d="planks_oak"),2==u&&_?d="mob_spawner":Math.random()<.67&&(d="cave"==d?"web":"web_on_wood"),e[(0,o.Yy)(a,f,h)]=d}}}}}(g,w,b,Y),function(r,a,e){for(var t=0;t<8;t++)d(r,a,e,(0,o.sc)(0,a),(0,o.sc)(0,r),"cave")}(g,w,b),function(r,a,e){for(var t=r*a/64,o=0;o<t;o++){var n=Math.floor(Math.random()*a),s=Math.floor(Math.random()*r);d(r,a,e,n,s,"rock_"+m(r,s))}}(g,w,b),function(r,a,e){for(var t=r*a/56,o=0;o<t;o++){var n=Math.floor(Math.random()*a),s=Math.floor(Math.random()*r);d(r,a,e,n,s,v(r,s))}}(g,w,b),function(r,a,e){for(var t=r*a/150,o=0;o<t;o++)d(r,a,e,Math.floor(Math.random()*a),Math.floor(Math.random()*r),Math.random()<.5?"gravel":"dirt")}(g,w,b),function(r,a,e){for(var t=0;t<r;t++)for(var n=0;n<a;n++){var s=(0,o.Yy)(a,n,t),i=(0,o.Yy)(a,n,t-1),c=(0,o.Yy)(a,n,t+1),l=(0,o.Yy)(a,n-1,t),u=(0,o.Yy)(a,n+1,t);"cave"!=e[s]&&"cave"==e[i]&&"cave"==e[c]&&"cave"==e[l]&&"cave"==e[u]&&(e[s]="cave")}}(g,w,b),function(r,a,e){for(var t=Math.floor(.8*r)-1,n=t;n<r;n++)for(var s=0;s<a;s++)"cave"==e[i=(0,o.Yy)(a,s,n)]&&(e[i]="lava");for(n=0;n<=t+1;n++)for(s=0;s<a;s++){var i;u(e[i=(0,o.Yy)(a,s,n)])&&Math.random()<.02&&f(r,a,e,i,s,n,!0)}}(g,w,b),null==_&&(_=document.createElement("div"),_.id=p,console.log("Injecting background element."),document.body.prepend(_));_.firstChild;)_.removeChild(_.firstChild);_.className="tile-layer",_.style.width=(t/2).toString()+"px",_.style.height=(e/2).toString()+"px",_.style.position="absolute",function(r,a,e,t){for(var n=0;n<a;n++){let a=document.createElement("div");for(var l=0;l<e;l++){var u=(0,o.Yy)(e,l,n),f=t[u];let r=a;if(c(f=h(0,e,t,l,n,u,f))&&(r=s(a,"cave")),"air"!=f&&(r=s(r,f)),(0,o.w7)()){let a=i(f,e,t,l,n);"air"!=a&&(r=s(r,a))}}r.appendChild(a)}(0,o.xE)(r,2)}(_,g,w,b)}window.addEventListener("resize",(0,t.D)(p,100))}}]);
//# sourceMappingURL=162.bundle.js.map