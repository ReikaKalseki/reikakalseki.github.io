(self.webpackChunksitecore=self.webpackChunksitecore||[]).push([[775],{21:(t,e,r)=>{var n;!function(){"use strict";var i=.5*(Math.sqrt(3)-1),o=(3-Math.sqrt(3))/6,a=1/6,l=(Math.sqrt(5)-1)/4,s=(5-Math.sqrt(5))/20;function u(t){var e;e="function"==typeof t?t:t?function(){var t=0,e=0,r=0,n=1,i=h();t=i(" "),e=i(" "),r=i(" ");for(var o=0;o<arguments.length;o++)(t-=i(arguments[o]))<0&&(t+=1),(e-=i(arguments[o]))<0&&(e+=1),(r-=i(arguments[o]))<0&&(r+=1);return i=null,function(){var i=2091639*t+2.3283064365386963e-10*n;return t=e,e=r,r=i-(n=0|i)}}(t):Math.random,this.p=c(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var r=0;r<512;r++)this.perm[r]=this.p[255&r],this.permMod12[r]=this.perm[r]%12}function c(t){var e,r=new Uint8Array(256);for(e=0;e<256;e++)r[e]=e;for(e=0;e<255;e++){var n=e+~~(t()*(256-e)),i=r[e];r[e]=r[n],r[n]=i}return r}function h(){var t=4022871197;return function(e){e=e.toString();for(var r=0;r<e.length;r++){var n=.02519603282416938*(t+=e.charCodeAt(r));n-=t=n>>>0,t=(n*=t)>>>0,t+=4294967296*(n-=t)}return 2.3283064365386963e-10*(t>>>0)}}u.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,e){var r,n,a=this.permMod12,l=this.perm,s=this.grad3,u=0,c=0,h=0,d=(t+e)*i,f=Math.floor(t+d),v=Math.floor(e+d),g=(f+v)*o,m=t-(f-g),p=e-(v-g);m>p?(r=1,n=0):(r=0,n=1);var y=m-r+o,b=p-n+o,S=m-1+2*o,w=p-1+2*o,x=255&f,M=255&v,A=.5-m*m-p*p;if(A>=0){var N=3*a[x+l[M]];u=(A*=A)*A*(s[N]*m+s[N+1]*p)}var k=.5-y*y-b*b;if(k>=0){var C=3*a[x+r+l[M+n]];c=(k*=k)*k*(s[C]*y+s[C+1]*b)}var E=.5-S*S-w*w;if(E>=0){var D=3*a[x+1+l[M+1]];h=(E*=E)*E*(s[D]*S+s[D+1]*w)}return 70*(u+c+h)},noise3D:function(t,e,r){var n,i,o,l,s,u,c,h,d,f,v=this.permMod12,g=this.perm,m=this.grad3,p=.3333333333333333*(t+e+r),y=Math.floor(t+p),b=Math.floor(e+p),S=Math.floor(r+p),w=(y+b+S)*a,x=t-(y-w),M=e-(b-w),A=r-(S-w);x>=M?M>=A?(s=1,u=0,c=0,h=1,d=1,f=0):x>=A?(s=1,u=0,c=0,h=1,d=0,f=1):(s=0,u=0,c=1,h=1,d=0,f=1):M<A?(s=0,u=0,c=1,h=0,d=1,f=1):x<A?(s=0,u=1,c=0,h=0,d=1,f=1):(s=0,u=1,c=0,h=1,d=1,f=0);var N=x-s+a,k=M-u+a,C=A-c+a,E=x-h+2*a,D=M-d+2*a,Y=A-f+2*a,H=x-1+.5,q=M-1+.5,T=A-1+.5,I=255&y,j=255&b,F=255&S,P=.6-x*x-M*M-A*A;if(P<0)n=0;else{var U=3*v[I+g[j+g[F]]];n=(P*=P)*P*(m[U]*x+m[U+1]*M+m[U+2]*A)}var W=.6-N*N-k*k-C*C;if(W<0)i=0;else{var _=3*v[I+s+g[j+u+g[F+c]]];i=(W*=W)*W*(m[_]*N+m[_+1]*k+m[_+2]*C)}var z=.6-E*E-D*D-Y*Y;if(z<0)o=0;else{var B=3*v[I+h+g[j+d+g[F+f]]];o=(z*=z)*z*(m[B]*E+m[B+1]*D+m[B+2]*Y)}var G=.6-H*H-q*q-T*T;if(G<0)l=0;else{var J=3*v[I+1+g[j+1+g[F+1]]];l=(G*=G)*G*(m[J]*H+m[J+1]*q+m[J+2]*T)}return 32*(n+i+o+l)},noise4D:function(t,e,r,n){var i,o,a,u,c,h,d,f,v,g,m,p,y,b,S,w,x,M=this.perm,A=this.grad4,N=(t+e+r+n)*l,k=Math.floor(t+N),C=Math.floor(e+N),E=Math.floor(r+N),D=Math.floor(n+N),Y=(k+C+E+D)*s,H=t-(k-Y),q=e-(C-Y),T=r-(E-Y),I=n-(D-Y),j=0,F=0,P=0,U=0;H>q?j++:F++,H>T?j++:P++,H>I?j++:U++,q>T?F++:P++,q>I?F++:U++,T>I?P++:U++;var W=H-(h=j>=3?1:0)+s,_=q-(d=F>=3?1:0)+s,z=T-(f=P>=3?1:0)+s,B=I-(v=U>=3?1:0)+s,G=H-(g=j>=2?1:0)+2*s,J=q-(m=F>=2?1:0)+2*s,K=T-(p=P>=2?1:0)+2*s,L=I-(y=U>=2?1:0)+2*s,R=H-(b=j>=1?1:0)+3*s,X=q-(S=F>=1?1:0)+3*s,O=T-(w=P>=1?1:0)+3*s,Q=I-(x=U>=1?1:0)+3*s,V=H-1+4*s,Z=q-1+4*s,$=T-1+4*s,tt=I-1+4*s,et=255&k,rt=255&C,nt=255&E,it=255&D,ot=.6-H*H-q*q-T*T-I*I;if(ot<0)i=0;else{var at=M[et+M[rt+M[nt+M[it]]]]%32*4;i=(ot*=ot)*ot*(A[at]*H+A[at+1]*q+A[at+2]*T+A[at+3]*I)}var lt=.6-W*W-_*_-z*z-B*B;if(lt<0)o=0;else{var st=M[et+h+M[rt+d+M[nt+f+M[it+v]]]]%32*4;o=(lt*=lt)*lt*(A[st]*W+A[st+1]*_+A[st+2]*z+A[st+3]*B)}var ut=.6-G*G-J*J-K*K-L*L;if(ut<0)a=0;else{var ct=M[et+g+M[rt+m+M[nt+p+M[it+y]]]]%32*4;a=(ut*=ut)*ut*(A[ct]*G+A[ct+1]*J+A[ct+2]*K+A[ct+3]*L)}var ht=.6-R*R-X*X-O*O-Q*Q;if(ht<0)u=0;else{var dt=M[et+b+M[rt+S+M[nt+w+M[it+x]]]]%32*4;u=(ht*=ht)*ht*(A[dt]*R+A[dt+1]*X+A[dt+2]*O+A[dt+3]*Q)}var ft=.6-V*V-Z*Z-$*$-tt*tt;if(ft<0)c=0;else{var vt=M[et+1+M[rt+1+M[nt+1+M[it+1]]]]%32*4;c=(ft*=ft)*ft*(A[vt]*V+A[vt+1]*Z+A[vt+2]*$+A[vt+3]*tt)}return 27*(i+o+a+u+c)}},u._buildPermutationTable=c,void 0===(n=function(){return u}.call(e,r,e,t))||(t.exports=n),e.SimplexNoise=u,t.exports=u}()},938:(t,e,r)=>{"use strict";function n(t,e,r){var n,i,o;void 0===e&&(e=50),void 0===r&&(r={});var a=null!=(n=r.isImmediate)&&n,l=null!=(i=r.callback)&&i,s=r.maxWait,u=Date.now(),c=[];function h(){if(void 0!==s){var t=Date.now()-u;if(t+e>=s)return s-t}return e}var d=function(){var e=[].slice.call(arguments),r=this;return new Promise((function(n,i){var s=a&&void 0===o;if(void 0!==o&&clearTimeout(o),o=setTimeout((function(){if(o=void 0,u=Date.now(),!a){var n=t.apply(r,e);l&&l(n),c.forEach((function(t){return(0,t.resolve)(n)})),c=[]}}),h()),s){var d=t.apply(r,e);return l&&l(d),n(d)}c.push({resolve:n,reject:i})}))};return d.cancel=function(t){void 0!==o&&clearTimeout(o),c.forEach((function(e){return(0,e.reject)(t)})),c=[]},d}r.d(e,{D:()=>n})},775:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>c});var n=r(21),i=r(938),o=r(621),a=r(212);const l=2048;function s(t,e,r,n,i,a,l){if(l){let o=document.createElement("div");o.className="tile-starbound-"+e,o.setAttribute("style","mix-blend-mode: screen;"),o.style.position="absolute",o.style.top=n.toString()+"px",o.style.left=r.toString()+"px",o.style.width=i.toString()+"px",o.style.height=a.toString()+"px",t.appendChild(o)}else{e=function(t,e,r){return r}(0,0,e);var s=document.createElementNS("http://www.w3.org/2000/svg","image");s.setAttributeNS(null,o.yJ,i.toString()),s.setAttributeNS(null,o.eT,a.toString()),s.setAttributeNS("http://www.w3.org/1999/xlink","href",(0,o.Fq)(e,"starbound")),s.setAttributeNS(null,o.HP,r.toString()),s.setAttributeNS(null,o.rR,n.toString()),s.setAttributeNS(null,o.pX,o.yK),t.appendChild(s)}}function u(t,e,r){if(!(Math.random()>.275)){var n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttributeNS(null,"x1",(e.x+10.5).toString()),n.setAttributeNS(null,"y1",(e.y+10.5).toString()),n.setAttributeNS(null,"x2",(r.x+10.5).toString()),n.setAttributeNS(null,"y2",(r.y+10.5).toString()),n.setAttributeNS(null,"stroke","rgb(160, 160, 160)"),n.setAttributeNS(null,"stroke-width","1"),n.setAttributeNS(null,"stroke-dasharray","4"),n.setAttributeNS(null,"style","mix-blend-mode: screen;"),t.appendChild(n),e.connections.push(r),r.connections.push(e)}}function c(){if(a.M)return;let t=document.body,e=document.documentElement;var r=Math.max(t.offsetHeight,e.clientHeight,e.offsetHeight,window.innerHeight,document.body.clientHeight),i=Math.max(window.innerWidth,document.body.clientWidth);console.log("Generating starbound nav map background");let c=document.createElementNS(o.DI,"svg");c.setAttributeNS(null,"width",i.toString()),c.setAttributeNS(null,"height",r.toString());for(var h=0;h<i;h+=l)for(var d=0;d<r;d+=l)s(c,o.hm?"bg_xmas":"bg",h,d,l,l,!1);let f=28.35,v=Math.ceil(i/63),g=Math.ceil(r/63),m=new Array(v*g),p=new n;for(h=0;h<v;h++)for(d=0;d<g;d++){let t=63*(h+.5),e=63*(d+.5),r={x:(0,o.sc)(t-f,t+f),y:(0,o.sc)(e-f,e+f),image:"star"+Math.min(5,Math.abs(Math.round(6*p.noise2D(.1*h,.1*d)))),cx:h,cy:d,index:(0,o.Yy)(v,h,d),connections:[]};m[r.index]=r}for(h=0;h<m.length;h++){let t=m[h];t.cx>0&&Math.random()<.33&&(y=m[(0,o.Yy)(v,t.cx-1,t.cy)]).connections.length<3&&u(c,t,y),t.cy>0&&Math.random()<.33&&(y=m[(0,o.Yy)(v,t.cx,t.cy-1)]).connections.length<3&&u(c,t,y)}for(h=0;h<m.length;h++){let t=m[h];if(t.connections.length,t.cx>0)u(c,t,y=m[(0,o.Yy)(v,t.cx-1,t.cy)]);else if(t.cy>0)u(c,t,y=m[(0,o.Yy)(v,t.cx,t.cy-1)]);else if(Math.random()<.33)u(c,t,y=m[(0,o.Yy)(v,t.cx+1,t.cy)]);else{var y;u(c,t,y=m[(0,o.Yy)(v,t.cx,t.cy+1)])}}let b="background-content",S=document.getElementById(b);for(null==S&&(S=document.createElement("div"),S.id=b,console.log("Injecting background element."),document.body.prepend(S));S.firstChild;)S.removeChild(S.firstChild);for(S.appendChild(c),c=document.createElement("div"),c.id="bcg-stars",c.style.position="absolute",c.style.width=i.toString()+"px",c.style.height=r.toString()+"px",h=0;h<m.length;h++){var w=m[h];s(c,w.image,w.x,w.y,21,21,!0)}S.appendChild(c),S.style.width=i.toString()+"px",S.style.height=r.toString()+"px"}window.addEventListener("resize",(0,i.D)(c,100))}}]);
//# sourceMappingURL=775.bundle.js.map