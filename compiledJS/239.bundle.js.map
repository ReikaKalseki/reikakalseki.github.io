{"version":3,"sources":["webpack://sitecore/./downloadall_rawscript.ts"],"names":["addDownloadButton","document","getElementById","addEventListener","downloadAllMods","interval","urls","console","log","setInterval","downloadOne","li","getElementsByClassName","i","length","link","innerHTML","push","reverse","url","pop","a","createElement","setAttribute","appendChild","click","clearInterval"],"mappings":"kGAAe,SAASA,IACVC,SAASC,eAAe,qBAM9BC,iBAAiB,QAASC,G,8BAGlC,IACIC,EADAC,EAAO,GAEX,SAASF,IACLG,QAAQC,IAAI,8BACZH,EAAWI,YAAYC,EAAa,IAAKJ,GACzC,MAAMK,EAAKV,SAASW,uBAAuB,uBAC3C,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAGG,OAAQD,IAAK,CAChC,MAAME,EAAOJ,EAAGE,GAAGG,UACnBV,EAAKW,KAAKF,GAUdT,EAAKY,UAET,SAASR,IACL,MAAMS,EAAMb,EAAKc,MACjBb,QAAQC,IAAI,uBAAyBW,GACrC,IAAIE,EAAIpB,SAASqB,cAAc,KAC/BD,EAAEE,aAAa,OAAQJ,GACvBE,EAAEE,aAAa,WAAY,IAC3BF,EAAEE,aAAa,SAAU,UACzBtB,SAASC,eAAe,4BAA4BsB,YAAYH,GAChEA,EAAEI,QACiB,GAAfnB,EAAKQ,QACLY,cAAcrB","file":"239.bundle.js","sourcesContent":["export default function addDownloadButton() {\r\n    let all = document.getElementById(\"download-all-mods\"); //last.cloneNode(true) as HTMLButtonElement;\r\n    //all.removeAttribute(\"href\");\r\n    //all.removeAttribute(\"target\");\r\n    //all.id = \"download-all-mods\";\r\n    //let span = all.getElementsByTagName(\"span\")[0];\r\n    //span.innerHTML = \"Download All Mods\"+span.innerHTML.substring(span.innerHTML.indexOf('<'));\r\n    all.addEventListener(\"click\", downloadAllMods);\r\n    //last.parentElement?.appendChild(all);\r\n}\r\nlet urls = [];\r\nlet interval;\r\nfunction downloadAllMods() {\r\n    console.log(\"Initiate all-mods download\");\r\n    interval = setInterval(downloadOne, 500, urls);\r\n    const li = document.getElementsByClassName(\"download-link-cache\");\r\n    for (let i = 0; i < li.length; i++) {\r\n        const link = li[i].innerHTML;\r\n        urls.push(link);\r\n        //if (btn.hasAttribute(\"href\"))\r\n        //\twindow.open(btn.getAttribute(\"href\") as string);\r\n        //window.open(link.innerHTML, \"_blank\");\r\n        //let a = document.createElement(\"a\");\r\n        //a.setAttribute('href', link.innerHTML);\r\n        //a.setAttribute('download', '');\r\n        //a.setAttribute('target', '_blank');\r\n        //a.click();\r\n    }\r\n    urls.reverse();\r\n}\r\nfunction downloadOne() {\r\n    const url = urls.pop();\r\n    console.log(\"Queuing download of \" + url);\r\n    let a = document.createElement(\"a\");\r\n    a.setAttribute('href', url);\r\n    a.setAttribute('download', '');\r\n    a.setAttribute('target', '_blank');\r\n    document.getElementById(\"download-link-container\")?.appendChild(a);\r\n    a.click();\r\n    if (urls.length == 0) {\r\n        clearInterval(interval);\r\n    }\r\n}\r\n"],"sourceRoot":""}